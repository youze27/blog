"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[5298],{25298:(t,s,i)=>{i.d(s,{MediaPosterElement:()=>a});var e=i(94487),n=i(99469),r=i(73362);class o extends e.uA{static props={src:null,alt:null,crossOrigin:null};static state=new e.Uw({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});#t;onSetup(){this.#t=(0,n.$c)(),this.#s(),this.#i(),this.#e(),this.#n()}onAttach(t){t.style.setProperty("pointer-events","none"),(0,e.QZ)(this.#r.bind(this)),(0,e.QZ)(this.#s.bind(this)),(0,e.QZ)(this.#i.bind(this)),(0,e.QZ)(this.#e.bind(this)),(0,e.QZ)(this.#n.bind(this));const{started:s}=this.#t.$state;this.setAttributes({"data-visible":()=>!s()&&!this.$state.hidden(),"data-loading":this.#o.bind(this),"data-error":this.#a.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){(0,e.QZ)(this.#h.bind(this)),(0,e.QZ)(this.#d.bind(this))}#a(){const{error:t}=this.$state;return!(0,e.kZ)(t())}#h(){const{canLoadPoster:t,poster:s}=this.#t.$state;!t()&&s()&&(0,r.kZ)(s(),"preconnect")}#n(){const{src:t}=this.$props,{poster:s,nativeControls:i}=this.#t.$state;this.el&&(0,e.Bq)(this.el,"display",i()?"none":null),this.$state.hidden.set(this.#a()||!(t()||s())||i())}#o(){const{loading:t,hidden:s}=this.$state;return!s()&&t()}#r(){const t=this.$state.img();t&&(new e.En(t).add("load",this.#c.bind(this)).add("error",this.#l.bind(this)),t.complete&&this.#c())}#p="";#s(){const{poster:t}=this.#t.$props,{canLoadPoster:s,providedPoster:i,inferredPoster:e}=this.#t.$state,n=this.$props.src()||"",r=n||t()||e();this.#p===i()&&i.set(n),this.$state.src.set(s()&&r.length?r:null),this.#p=n}#i(){const{src:t}=this.$props,{alt:s}=this.$state,{poster:i}=this.#t.$state;s.set(t()||i()?this.$props.alt():null)}#e(){const{crossOrigin:t}=this.$props,{crossOrigin:s}=this.$state,{crossOrigin:i,poster:e}=this.#t.$state,n=null!==t()?t():i();s.set(/ytimg\.com|vimeo/.test(e()||"")?null:!0===n?"anonymous":n)}#d(){const{loading:t,error:s}=this.$state,{canLoadPoster:i,poster:e}=this.#t.$state;t.set(i()&&!!e()),s.set(null)}#c(){const{loading:t,error:s}=this.$state;t.set(!1),s.set(null)}#l(t){const{loading:s,error:i}=this.$state;s.set(!1),i.set(t)}}class a extends((0,e.xr)(HTMLElement,o)){static tagName="media-poster";static attrs={crossOrigin:"crossorigin"};#m=document.createElement("img");onSetup(){this.$state.img.set(this.#m)}onConnect(){const{src:t,alt:s,crossOrigin:i}=this.$state;(0,e.QZ)(()=>{const{loading:t,hidden:s}=this.$state;this.#m.style.display=t()||s()?"none":""}),(0,e.QZ)(()=>{(0,e.Bq)(this.#m,"alt",s()),(0,e.Bq)(this.#m,"crossorigin",i()),(0,e.Bq)(this.#m,"src",t())}),this.#m.parentNode!==this&&this.prepend(this.#m)}}}}]);