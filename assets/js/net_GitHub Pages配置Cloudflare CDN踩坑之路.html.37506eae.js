"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[8552],{35872(s,i,a){a.r(i),a.d(i,{comp:()=>l,data:()=>e});var t=a(43990);const n={},l=(0,a(24932).A)(n,[["render",function(s,i){const a=(0,t.g2)("Mermaid");return(0,t.uX)(),(0,t.CE)("div",null,[i[0]||(i[0]=(0,t.Fv)('<p>背景：博客使用的是github page，但是国内访问速度太慢了，所以就有了使用CDN的打算同时也让AI帮我对比了几个方案。</p><table><thead><tr><th>对比维度</th><th><strong>自定义域名 + Cloudflare CDN</strong></th><th>博客<strong>迁移至 Netlify/Vercel 等第三方</strong></th></tr></thead><tbody><tr><td><strong>对现有 Actions 工作流的影响</strong></td><td><strong>零影响</strong>。Actions 配置无需任何改动。</td><td><strong>需要迁移</strong>。需将构建部署流程从 GitHub Actions 转移到新平台。</td></tr><tr><td><strong>自动化程度</strong></td><td><strong>完全自动</strong>。一次性配置域名和CDN后，后续全自动。</td><td><strong>完全自动</strong>，但需适应新平台的自动构建设置。</td></tr><tr><td><strong>加速原理</strong></td><td>通过 CDN 节点缓存和优化访问路径。</td><td>使用平台自带的全球CDN。</td></tr><tr><td><strong>核心优点</strong></td><td><strong>无缝集成</strong>，保留所有 GitHub 生态和自动化体验。</td><td>功能强大，速度可能更快，平台集成体验好。</td></tr><tr><td><strong>主要缺点</strong></td><td>需要拥有一个自定义域名（通常每年约几十元人民币）。</td><td><strong>需重构部署流程</strong>，放弃现有的 Actions 配置可能带来额外成本。</td></tr></tbody></table><h3 id="阿里云购买域名" tabindex="-1"><a class="header-anchor" href="#阿里云购买域名"><span>阿里云购买域名</span></a></h3><p>在阿里云购买了一个域名</p><h3 id="域名托管到cloudflare" tabindex="-1"><a class="header-anchor" href="#域名托管到cloudflare"><span>域名托管到Cloudflare</span></a></h3><p>将你在阿里云购买的域名交由Cloudflare管理。</p><ol><li><p><strong>注册Cloudflare</strong>：访问 <a href="https://www.cloudflare.com/" target="_blank" rel="noopener noreferrer">Cloudflare官网</a> 注册账号。</p></li><li><p><strong>添加站点</strong>：登录后，在控制台点击 <strong>“添加站点”</strong> ，输入主域名。</p></li><li><p>​<strong>选择套餐</strong>​：在计划页面选择 ​<strong>免费计划</strong>，然后点击继续。</p></li><li><p><strong>变更域名服务器</strong>：</p><ul><li>Cloudflare会提供<strong>两个专属的名称服务器地址</strong>。</li><li><strong>登录阿里云控制台</strong>，找到域名管理页面，进入 <strong>DNS解析设置</strong> 或 <strong>域名服务器修改</strong> 选项。</li><li>将阿里云原有的名称服务器记录，​<strong>替换为Cloudflare提供的那两个地址</strong>。</li></ul></li></ol><h3 id="在cloudflare配置dns解析" tabindex="-1"><a class="header-anchor" href="#在cloudflare配置dns解析"><span>在Cloudflare配置DNS解析</span></a></h3><p>待域名状态在Cloudflare变为“有效”后，需要配置DNS记录，将域名指向你的GitHub Pages。</p><p>需要添加以下两条核心记录。操作在Cloudflare控制台的 <strong>DNS &gt; 记录</strong> 页面完成：</p><ul><li><p><strong>记录1：根域名（@）A记录</strong></p><ul><li>​<strong>目的</strong>​：让 <code>yourdomain.com</code> 能访问。</li><li>​<strong>操作</strong>​：点击“添加记录”，类型选择 ​<strong>A</strong>​；名称填写 ​ <strong>​<code>@</code>​</strong> ​；IPv4地址填入GitHub Pages的IP之一，例如 ​<strong>​<code>185.199.108.153</code>​</strong>​（这是四个官方IP之一，任选一个即可）；务必点亮​<strong>橙色云朵</strong>（代理状态开启）。</li></ul></li><li><p><strong>记录2：www子域名CNAME记录</strong></p><ul><li>​<strong>目的</strong>​：让 <code>www.yourdomain.com</code> 能访问。</li><li>​<strong>操作</strong>​：点击“添加记录”，类型选择 ​<strong>CNAME</strong>​；名称填写 ​<strong>​<code>www</code>​</strong>​；目标填写你的GitHub Pages地址 ​ <strong>​<code>&lt;你的用户名&gt;.github.io</code>​</strong>​；同样点亮​<strong>橙色云朵</strong>。</li></ul></li></ul><blockquote><p>​<strong>重要提示</strong>：点亮“橙色云朵”意味着流量经过Cloudflare CDN加速和保护；如果云朵是灰色的，则只使用其DNS解析功能，没有加速效果。</p></blockquote><h3 id="在github-pages绑定自定义域名" tabindex="-1"><a class="header-anchor" href="#在github-pages绑定自定义域名"><span>在GitHub Pages绑定自定义域名</span></a></h3><p>此操作是让GitHub知道你的自定义域名。</p><ol><li>进入你的GitHub Pages仓库的 ​<strong>Settings</strong>。</li><li>找到 <strong>Pages</strong> 部分，在 <strong>Custom domain</strong> 栏中，输入绑定好的域名，然后点击 <strong>Save</strong>。</li><li>建议勾选下方的 ​ <strong>“Enforce HTTPS”</strong> （强制HTTPS）选项。</li></ol><h3 id="配置ssl与安全设置" tabindex="-1"><a class="header-anchor" href="#配置ssl与安全设置"><span>配置SSL与安全设置</span></a></h3><p>在Cloudflare控制台进行以下设置，提升安全性和体验：</p><ol><li><p>​<strong>SSL/TLS加密模式</strong>：</p><p>进入 <strong>SSL/TLS</strong> 设置页面。</p></li><li><p>推荐将加密模式设置为 ​ <strong>“完全（严格）”</strong> 。此模式在浏览器到Cloudflare、Cloudflare到GitHub Pages之间都进行加密，安全性最高。</p></li><li><p>​<strong>始终使用HTTPS</strong>：</p><ul><li>在 <strong>SSL/TLS</strong> 的“边缘证书”页面，找到 <strong>“始终使用 HTTPS”</strong> 选项并开启。这会将所有HTTP请求自动重定向到HTTPS。</li></ul></li></ol><h3 id="github-page-自定义域名无法开启强制https" tabindex="-1"><a class="header-anchor" href="#github-page-自定义域名无法开启强制https"><span>Github Page 自定义域名无法开启强制HTTPS</span></a></h3><p>报错如下：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Enforce</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HTTPS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> —</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Unavailable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> site</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> because</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> domain</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> properly</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> configured</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> support</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HTTPS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (min168.top) — Troubleshooting custom domains</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">HTTPS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> provides</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> layer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> encryption</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> prevents</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> others</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> snooping</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> or</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tampering</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> traffic</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> site.</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">When</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HTTPS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enforced,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> site</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> only</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> served</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> over</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HTTPS.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Learn</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> more</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> about</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> securing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GitHub</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Pages</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> site</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HTTPS.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>“Enforce HTTPS unavailable” 错误，是GitHub无法为你的源站颁发证书，而Cloudflare可以轻松为访问者提供加密</strong>。两者区别的核心在于它们保护的是HTTPS连接中的<strong>不同阶段</strong>。</p>',22)),(0,t.bF)(a,{code:"eJxLy8kvT85ILCpR8AniUgACx+gX6/Y/Xbfo2db+F8s7ns5cEaugq2tX87RrwdP1bS/2z3vWt/TRxAU2SUV2NsUlRfl56XbOOfmlKWk5iUWpL9Y3Ptm57PmU+c+mdtjoQ6VrFJyiEUoUnF38YsEWOWExdyGyue6ZJR6lSRAzX85peLZ28dMdO55uX/pk7xwkw52jIeoUAhLTU4sVnu2a8Hz1zFguAOfyZ9w="}),(0,t.bF)(a,{code:"eJxLy8kvT85ILCpR8AniUgACx+hHDXPcM0s8SpMU9BV8UkvUixVc85KLKgtKbJKK7F6sb3yyc9nLVT1AxrM5vU+7Fj6dueJRw9xYBV1dOwWnaqDmp/0TX2zd/qyz4dmczmdzmyFqQXqfzV/6Yv2ip/PnP53Qq1BRUaFXkl+g8HxWi2cA0IBasO1OYGOcQW5w8Qt+sXzxs3kTnk7ufbprihXY9v1Tns6e55yTX5qSlpNYlKrg7OL3oqvpedNOsBmxYDOcwWa4gMyA2P1i/fZnG5teLFoNMgKh+cnuxc8ntD3d2PSsb+mzKdvg+l3A+l1B+h/N7VGAmPF0ycYXW5aCDID6fdrOZ3NWPZ/T/bRjw9PWbS8XtTybMx/oF2jIQZ0DAE1usa4="}),i[1]||(i[1]=(0,t.Fv)('<p><strong>Cloudflare 无法与 GitHub Pages 源站建立安全的 HTTPS 连接</strong>。</p><p>★ ★ ★ GitHub在为你的域名自动签发SSL证书时，需<em>要</em>​<em><strong>验证你拥有这个域名</strong></em>​ <em>。标准的验证方式是检查该域名的DNS记录是否指向了GitHub。</em> 但是，当Cloudflare代理开启后，GitHub的验证系统可能会因为流量路径被改变而<strong>无法正确完成验证</strong>，从而导致证书签发失败。</p><p>同样我直接访问域名的错误信息如下：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Invalid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SSL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> certificate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Error</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> code</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 526</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Visit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cloudflare.com</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> more</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> information.</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2025-12-31</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 07:19:09</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UTC</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">You</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Browser</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Working</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Hong</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Kong</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Cloudflare</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Working</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">min168.top</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Error</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">What</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> happened?</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">The</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> origin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> web</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> does</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> have</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> valid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SSL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> certificate.</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">What</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> can</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> I</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> do?</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">If</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> you&#39;re a visitor of this website:</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Please try again in a few minutes.</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">If you&#39;re</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> owner</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> this</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> website:</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">The</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SSL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> certificate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> presented</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> did</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pass</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> validation.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> This</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> could</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> indicate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> an</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> expired</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SSL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> certificate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> or</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> certificate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> does</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> requested</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> domain</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> name.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Please</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> contact</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hosting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> provider</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ensure</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> an</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up-to-date</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> valid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SSL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> certificate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> issued</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Certificate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Authority</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> configured</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> this</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> domain</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> origin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Additional</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> troubleshooting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> information</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> here.</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Cloudflare</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Ray</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9b6801cb081303f2</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IP:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Click</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reveal</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Performance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">security</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Cloudflare</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>解决方法: 让GitHub完成验证</strong></p>',5)),(0,t.bF)(a,{code:"eJxLy8kvT85ILCpR8AniUgAC9+gnO7Y8m77taevml9PXOufkl6ak5SQWpT7Zvfj5hLZYiBoFXV07BY9oF7/g57O3POtb+mL/lKez59kkFdm5Z5Z4lCYpBCSmpxY/n9XyfM78p+vmeQZA9HmA9XlGv1jf+GTnspeLGp/2T3w2Z9ezeS0grS9X9QAlXjbMerG//enObc/X7gNKBwf7QFRDTPAEm+AV/bK999m0DU/3NDydsB67G73AKr2jn07oAfrmWffSZ3M6QWhqh0dISEDwkx19zi5+T7sWvGyYH8sFAN/2gBA="}),i[2]||(i[2]=(0,t.Fv)('<p>暂时“绕过”Cloudflare的代理，让GitHub的验证系统能看到正确的DNS记录。</p><p><strong>第一步：临时关闭Cloudflare代理</strong></p><ol><li>登录Cloudflare控制台，进入 ​<strong>DNS &gt; 记录</strong>。</li><li>找到您为 域名 设置的 <strong>A记录</strong>（名称是 <code>@</code> 的那条）。</li><li>点击该记录旁的 ​<strong>橙色云朵图标</strong>​，使其变为​<strong>灰色（仅DNS）</strong> 。这表示暂停代理，DNS将直接返回GitHub的IP地址。</li><li>​<strong>仅操作A记录即可</strong>​，<code>www</code> 的CNAME记录可以保持橙色。</li></ol><p><strong>第二步：触发GitHub重新验证并签发证书</strong></p><ol><li>回到GitHub仓库的 ​<strong>Settings &gt; Pages</strong>。</li><li>在“Custom domain”中，再次执行“清空 -&gt; 保存 -&gt; 等待1分钟 -&gt; 重新填入 <code>域名</code> -&gt; 保存”的操作。</li><li>保存后，请密切关注是否出现 <strong>“Certificate is being issued...”</strong> 的提示。看到此提示，说明验证已触发。</li></ol><p><strong>第三步：重新开启Cloudflare代理并完成配置</strong></p><ol><li>等待足够时间（例如2-4小时）或通过 <a href="https://www.ssllabs.com/ssltest/" target="_blank" rel="noopener noreferrer">SSL Labs</a> 检测确认证书已签发成功后（报告显示证书由GitHub/Let‘s Encrypt签发）。</li><li>​<strong>返回Cloudflare</strong>​，将那条A记录的代理状态​<strong>重新点击为橙色云朵（已代理）</strong> 。</li><li>最后，回到GitHub Pages设置页面，刷新后<strong>勾选 “Enforce HTTPS”</strong> 选项。</li></ol><p>至此CDN已配置好，原理如下：</p>',8)),(0,t.bF)(a,{code:"eJxLy8kvT85ILCpR8AniUgACx+jnU1Y869j+Yt3+l9PXPZ0//+mE3lgFXV07BadoF7/gZ/OXvli/KBas1Aks7Fz9Yv+Up7PnOefkl6ak5SQWpb7Yt/P5nhkvupqeN+30DLBJKrJ7OXeee2aJR2mSgmdALVivM1ivC8yy/fOe9S192rEByRCwdohFLmDFrtEQsRfr2552rH7WtOL5rBaI+1629j7fuw6i1hWs1g2q9sneOU927Hqye/HzCW3v9/Q8nTARohaoFeQuuKNerN/+bGPTs6kbnvVCzXEDm+MONefphjaIJMSvz3fPhDg8lgsA1C2hGQ=="}),i[3]||(i[3]=(0,t.Fv)('<h3 id="关于网站显示乱码的解决" tabindex="-1"><a class="header-anchor" href="#关于网站显示乱码的解决"><span>关于网站显示乱码的解决</span></a></h3><p>之前访问我的我配置过两次就是出现同样的问题，通过域名访问只能返回html，css和js的数据未返回。起初怀疑国内网速不好。或是被GFW拦截了。配置了好几次没有成功。访问index.html也404。</p><p>网站可能并非构建在名为 <code>你的用户名.github.io</code> 的特殊仓库中，而是构建在一个普通仓库里。</p><p><strong>访问这个地址</strong>：<code>https://你的用户名.github.io</code>​说明没有那个以 <code>你的用户名.github.io</code> 命名的仓库，或者该仓库未开启Pages。然后我想到我之前网站后要加/blog/才能访问。</p><p>那么这个的 <strong>正确访问地址</strong> 是：<code>https://域名/blog/</code></p><p>所以需要确保在 <strong>VuePress 配置文件</strong> 中的 <code>base</code>​ 选项设置为 <code>&quot;/&quot;</code>这样构建时候将项目构建在根目录而非/blog/才能 域名直接访问。</p><h3 id="解决rss不显示和跨域问题" tabindex="-1"><a class="header-anchor" href="#解决rss不显示和跨域问题"><span>解决RSS不显示和跨域问题</span></a></h3><p>配置完以上问题后，我的RSS页面显示空白F12调试发现RSS文件可以请求下来，而一个叫XSL的文件没有请求下来。</p><p><strong>XSL（eXtensible Stylesheet Language）</strong> 是<strong>可扩展样式表语言</strong>，专门用来处理和转换 XML 文档。它为 XML 提供类似 CSS 对于 HTML 的功能。</p><p>报错如下：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rss.xml:1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Unsafe</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> attempt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> load</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> URL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://xxx.github.io/rss.xsl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> frame</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> URL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://域名/rss.xml.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Domains,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> protocols</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ports</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> must</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> match.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这个错误是浏览器出于安全考虑触发的<strong>同源策略（Same-origin policy）</strong> 限制。</p><p>你的 RSS 文件 <code>rss.xml</code>（位于 域名下）尝试加载一个外部 XSL 样式表：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;https://用户名.github.io/rss.xsl&quot;?&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>浏览器禁止这种跨域资源加载，因为：</p><ul><li><strong>源不同</strong>：域名 ≠ <code>用户名.github.io</code></li><li><strong>协议、域名、端口</strong> 这三者必须完全一致才能直接加载</li></ul><p>解决方法：<strong>修改引用</strong>：将外部引用改为本地引用</p><p>将 XSL 文件放在同域名下，但是我根目录有这个文件。所以根本原因是我的域名修改了，但是RSS文件里的XSL文件路径在编译时忘记改了所以要修改文件途径。</p><p>同时将vuepress hope 的theme.ts的配置修改为：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> default</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> hopeTheme</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  hostname:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;https://域名&quot;,</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>将RSS文件里的路径修改为：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;?xml-stylesheet </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;text/xsl&quot;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> href</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;rss.xsl&quot;?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 或者</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;?xml-stylesheet </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;text/xsl&quot;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> href</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://域名/rss.xsl&quot;?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或直接移除这一行，让 RSS 以纯 XML 格式显示。</p><p>至此，CDN这块内容就折腾的差不多了，总耗时3个晚上。。。</p>',24))])}]]),e=JSON.parse('{"path":"/net/GitHub%20Pages%E9%85%8D%E7%BD%AECloudflare%20CDN%E8%B8%A9%E5%9D%91%E4%B9%8B%E8%B7%AF.html","title":"GitHub Pages配置Cloudflare CDN踩坑之路","lang":"zh-CN","frontmatter":{"title":"GitHub Pages配置Cloudflare CDN踩坑之路","index":true,"isOriginal":true,"category":["计网基础"],"tag":["网络运维","CDN","证书颁发","Github Pages","Cloudflare"],"description":"背景：博客使用的是github page，但是国内访问速度太慢了，所以就有了使用CDN的打算同时也让AI帮我对比了几个方案。 阿里云购买域名 在阿里云购买了一个域名 域名托管到Cloudflare 将你在阿里云购买的域名交由Cloudflare管理。 注册Cloudflare：访问 Cloudflare官网 注册账号。 添加站点：登录后，在控制台点击 ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"GitHub Pages配置Cloudflare CDN踩坑之路\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-03T15:04:44.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"卷卷\\"}]}"],["meta",{"property":"og:url","content":"https://min168.top/net/GitHub%20Pages%E9%85%8D%E7%BD%AECloudflare%20CDN%E8%B8%A9%E5%9D%91%E4%B9%8B%E8%B7%AF.html"}],["meta",{"property":"og:site_name","content":"卷卷"}],["meta",{"property":"og:title","content":"GitHub Pages配置Cloudflare CDN踩坑之路"}],["meta",{"property":"og:description","content":"背景：博客使用的是github page，但是国内访问速度太慢了，所以就有了使用CDN的打算同时也让AI帮我对比了几个方案。 阿里云购买域名 在阿里云购买了一个域名 域名托管到Cloudflare 将你在阿里云购买的域名交由Cloudflare管理。 注册Cloudflare：访问 Cloudflare官网 注册账号。 添加站点：登录后，在控制台点击 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-03T15:04:44.000Z"}],["meta",{"property":"article:tag","content":"Cloudflare"}],["meta",{"property":"article:tag","content":"Github Pages"}],["meta",{"property":"article:tag","content":"证书颁发"}],["meta",{"property":"article:tag","content":"CDN"}],["meta",{"property":"article:tag","content":"网络运维"}],["meta",{"property":"article:modified_time","content":"2026-01-03T15:04:44.000Z"}]]},"git":{"createdTime":1767452684000,"updatedTime":1767452684000,"contributors":[{"name":"siyuan","username":"siyuan","email":"youze27@163.com","commits":1,"url":"https://github.com/siyuan"}]},"readingTime":{"minutes":8.64,"words":2592},"filePathRelative":"net/GitHub Pages配置Cloudflare CDN踩坑之路.md","excerpt":"<p>背景：博客使用的是github page，但是国内访问速度太慢了，所以就有了使用CDN的打算同时也让AI帮我对比了几个方案。</p>\\n<table>\\n<thead>\\n<tr>\\n<th>对比维度</th>\\n<th><strong>自定义域名 + Cloudflare CDN</strong></th>\\n<th>博客<strong>迁移至 Netlify/Vercel 等第三方</strong></th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td><strong>对现有 Actions 工作流的影响</strong></td>\\n<td><strong>零影响</strong>。Actions 配置无需任何改动。</td>\\n<td><strong>需要迁移</strong>。需将构建部署流程从 GitHub Actions 转移到新平台。</td>\\n</tr>\\n<tr>\\n<td><strong>自动化程度</strong></td>\\n<td><strong>完全自动</strong>。一次性配置域名和CDN后，后续全自动。</td>\\n<td><strong>完全自动</strong>，但需适应新平台的自动构建设置。</td>\\n</tr>\\n<tr>\\n<td><strong>加速原理</strong></td>\\n<td>通过 CDN 节点缓存和优化访问路径。</td>\\n<td>使用平台自带的全球CDN。</td>\\n</tr>\\n<tr>\\n<td><strong>核心优点</strong></td>\\n<td><strong>无缝集成</strong>，保留所有 GitHub 生态和自动化体验。</td>\\n<td>功能强大，速度可能更快，平台集成体验好。</td>\\n</tr>\\n<tr>\\n<td><strong>主要缺点</strong></td>\\n<td>需要拥有一个自定义域名（通常每年约几十元人民币）。</td>\\n<td><strong>需重构部署流程</strong>，放弃现有的 Actions 配置可能带来额外成本。</td>\\n</tr>\\n</tbody>\\n</table>","autoDesc":true}')}}]);