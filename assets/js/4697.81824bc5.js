"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[4697],{50490:(t,e,i)=>{i.d(e,{e:()=>s});var a=i(94487);class s{#t;#e;constructor(t){this.#e=t}start(){(0,a.b0)(this.#t)&&this.#i()}stop(){(0,a.Et)(this.#t)&&window.cancelAnimationFrame(this.#t),this.#t=void 0}#i(){this.#t=window.requestAnimationFrame(()=>{(0,a.b0)(this.#t)||(this.#e(),this.#i())})}}},58554:(t,e,i)=>{i.d(e,{B:()=>f});var a=i(89225),s=i(94487),n=i(50490),o=i(54447),h=i(3187);let d=null,r=[],c=[];function u(){return d??=new AudioContext}function l(){d&&0===r.length&&0===c.length&&d.close().then(()=>{d=null})}class m{#a;#s;#n=null;#o=null;get currentGain(){return this.#n?.gain?.value??null}get supported(){return!0}constructor(t,e){this.#a=t,this.#s=e}setGain(t){const e=this.currentGain;t!==this.currentGain&&(1!==t||1===e?(this.#n||(this.#n=function(){const t=u(),e=t.createGain();return e.connect(t.destination),r.push(e),e}(),this.#o&&this.#o.connect(this.#n)),this.#o||(this.#o=function(t,e){const i=u().createMediaElementSource(t);return e&&i.connect(e),c.push(i),i}(this.#a,this.#n)),this.#n.gain.value=t,this.#s(t)):this.removeGain())}removeGain(){this.#n&&(this.#o&&this.#o.connect(u().destination),this.#h(),this.#s(null))}destroy(){this.#d(),this.#h()}#d(){if(this.#o)try{!function(t){const e=c.indexOf(t);-1!==e&&(c.splice(e,1),t.disconnect(),l())}(this.#o)}catch(t){}finally{this.#o=null}}#h(){if(this.#n)try{!function(t){const e=r.indexOf(t);-1!==e&&(r.splice(e,1),t.disconnect(),l())}(this.#n)}catch(t){}finally{this.#n=null}}}const p=["focus","blur","visibilitychange","pageshow","pagehide"];class v{#r=(0,s.O)(g());#c=(0,s.O)(document.visibilityState);#u;connect(){const t=new s.En(window),e=this.#l.bind(this);for(const i of p)t.add(i,e);a.Yw&&t.add("beforeunload",t=>{this.#u=setTimeout(()=>{t.defaultPrevented||t.returnValue.length>0||(this.#r.set("hidden"),this.#c.set("hidden"))},0)})}get pageState(){return this.#r()}get visibility(){return this.#c()}#l(t){a.Yw&&window.clearTimeout(this.#u),"blur"===t.type&&"active"!==this.#r()||(this.#r.set(g(t)),this.#c.set("hidden"==document.visibilityState?"hidden":"visible"))}}function g(t){return"blur"===t?.type||"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}class y{#m;#p;#v=!1;#g=!1;#y=!1;#b=new n.e(this.#f.bind(this));#k=new v;#T;get#a(){return this.#m.media}constructor(t,e){this.#m=t,this.#p=e,this.#T=new s.En(t.media),this.#x(),this.#k.connect(),(0,s.QZ)(this.#S.bind(this)),(0,s.zp)(this.#w.bind(this))}#w(){this.#g=!1,this.#y=!1,this.#b.stop(),this.#T.abort(),this.#E?.clear()}#L=0;#C=-1;#f(){const t=this.#a.currentTime;a.Yw&&t-this.#C<.35||this.#L===t||(this.#N(t),this.#L=t)}#x(){this.#P("loadstart",this.#A),this.#P("abort",this.#$),this.#P("emptied",this.#D),this.#P("error",this.#R),this.#P("volumechange",this.#F)}#G(){this.#g||(this.#P("loadeddata",this.#B),this.#P("loadedmetadata",this.#M),this.#P("canplay",this.#q),this.#P("canplaythrough",this.#O),this.#P("durationchange",this.#U),this.#P("play",this.#j),this.#P("progress",this.#V),this.#P("stalled",this.#I),this.#P("suspend",this.#_),this.#P("ratechange",this.#Y),this.#g=!0)}#z(){this.#y||(this.#P("pause",this.#Q),this.#P("playing",this.#W),this.#P("seeked",this.#H),this.#P("seeking",this.#K),this.#P("ended",this.#Z),this.#P("waiting",this.#J),this.#y=!0)}#E=void 0;#X=void 0;#P(t,e){this.#T.add(t,e.bind(this))}#tt(t){}#N(t,e){const i=Math.min(t,this.#p.$state.seekableEnd());this.#p.notify("time-change",i,e)}#A(t){3!==this.#a.networkState?(this.#G(),this.#p.notify("load-start",void 0,t)):this.#$(t)}#$(t){this.#p.notify("abort",void 0,t)}#D(){this.#p.notify("emptied",void 0,event)}#B(t){this.#p.notify("loaded-data",void 0,t)}#M(t){this.#L=0,this.#C=-1,this.#z(),this.#p.notify("loaded-metadata",void 0,t),(a.pz||a.Yw&&(0,a.YJ)(this.#p.$state.source()))&&this.#p.delegate.ready(this.#et(),t)}#et(){return{provider:(0,s.se)(this.#p.$provider),duration:this.#a.duration,buffered:this.#a.buffered,seekable:this.#a.seekable}}#j(t){this.#p.$state.canPlay&&this.#p.notify("play",void 0,t)}#Q(t){(1!==this.#a.readyState||this.#v)&&(this.#v=!1,this.#b.stop(),this.#p.notify("pause",void 0,t))}#q(t){this.#p.delegate.ready(this.#et(),t)}#O(t){this.#p.$state.started()||this.#p.notify("can-play-through",this.#et(),t)}#W(t){this.#a.paused||(this.#v=!1,this.#p.notify("playing",void 0,t),this.#b.start())}#I(t){this.#p.notify("stalled",void 0,t),this.#a.readyState<3&&(this.#v=!0,this.#p.notify("waiting",void 0,t))}#J(t){this.#a.readyState<3&&(this.#v=!0,this.#p.notify("waiting",void 0,t))}#Z(t){this.#b.stop(),this.#N(this.#a.duration,t),this.#p.notify("end",void 0,t),this.#p.$state.loop()&&(0,s.gD)(this.#a.controls)&&(this.#a.controls=!1)}#S(){const t=this.#p.$state.paused(),e="hidden"===this.#k.visibility;(t||e)&&(0,s.k6)(this.#a,"timeupdate",this.#it.bind(this))}#it(t){this.#N(this.#a.currentTime,t)}#U(t){this.#p.$state.ended()&&this.#N(this.#a.duration,t),this.#p.notify("duration-change",this.#a.duration,t)}#F(t){const e={volume:this.#a.volume,muted:this.#a.muted};this.#p.notify("volume-change",e,t)}#H(t){this.#C=this.#a.currentTime,this.#N(this.#a.currentTime,t),this.#p.notify("seeked",this.#a.currentTime,t),Math.trunc(this.#a.currentTime)===Math.trunc(this.#a.duration)&&(0,o.Q4)(this.#a.duration)>(0,o.Q4)(this.#a.currentTime)&&(this.#N(this.#a.duration,t),this.#a.ended||this.#p.player.dispatch(new s.vP("media-play-request",{trigger:t})))}#K(t){this.#p.notify("seeking",this.#a.currentTime,t)}#V(t){const e={buffered:this.#a.buffered,seekable:this.#a.seekable};this.#p.notify("progress",e,t)}#_(t){this.#p.notify("suspend",void 0,t)}#Y(t){this.#p.notify("rate-change",this.#a.playbackRate,t)}#R(t){const e=this.#a.error;if(!e)return;const i={message:e.message,code:e.code,mediaError:e};this.#p.notify("error",i,t)}}class b{#m;#p;get#at(){return this.#m.media.audioTracks}constructor(t,e){this.#m=t,this.#p=e,this.#at.onaddtrack=this.#st.bind(this),this.#at.onremovetrack=this.#nt.bind(this),this.#at.onchange=this.#ot.bind(this),(0,s.k6)(this.#p.audioTracks,"change",this.#ht.bind(this))}#st(t){const e=t.track;if(""===e.label)return;const i={id:e.id.toString()||`native-audio-${this.#p.audioTracks.length}`,label:e.label,language:e.language,kind:e.kind,selected:!1};this.#p.audioTracks[h.j.add](i,t),e.enabled&&(i.selected=!0)}#nt(t){const e=this.#p.audioTracks.getById(t.track.id);e&&this.#p.audioTracks[h.j.remove](e,t)}#ot(t){let e=this.#dt();if(!e)return;const i=this.#p.audioTracks.getById(e.id);i&&this.#p.audioTracks[h.j.select](i,!0,t)}#dt(){return Array.from(this.#at).find(t=>t.enabled)}#ht(t){const{current:e}=t.detail;if(!e)return;const i=this.#at.getTrackById(e.id);if(i){const t=this.#dt();t&&(t.enabled=!1),i.enabled=!0}}}class f{constructor(t,e){this.media=t,this.ctx=e,this.audioGain=new m(t,t=>{this.ctx.notify("audio-gain-change",t)})}scope=(0,s.Ds)();currentSrc=null;audioGain;setup(){new y(this,this.ctx),"audioTracks"in this.media&&new b(this,this.ctx),(0,s.zp)(()=>{this.audioGain.destroy(),this.media.srcObject=null,this.media.removeAttribute("src");for(const t of this.media.querySelectorAll("source"))t.remove();this.media.load()})}get type(){return""}setPlaybackRate(t){this.media.playbackRate=t}async play(){return this.media.play()}async pause(){return this.media.pause()}setMuted(t){this.media.muted=t}setVolume(t){this.media.volume=t}setCurrentTime(t){this.media.currentTime=t}setPlaysInline(t){(0,s.Bq)(this.media,"playsinline",t)}async loadSource({src:t,type:e},i){this.media.preload=i||"",(0,a.dv)(t)?(this.removeSource(),this.media.srcObject=t):(this.media.srcObject=null,(0,s.Kg)(t)?"?"!==e?this.appendSource({src:t,type:e}):(this.removeSource(),this.media.src=this.#rt(t)):(this.removeSource(),this.media.src=window.URL.createObjectURL(t))),this.media.load(),this.currentSrc={src:t,type:e}}appendSource(t,e){const i=this.media.querySelector("source[data-vds]"),a=i??document.createElement("source");(0,s.Bq)(a,"src",this.#rt(t.src)),(0,s.Bq)(a,"type","?"!==t.type?t.type:e),(0,s.Bq)(a,"data-vds",""),i||this.media.append(a)}removeSource(){this.media.querySelector("source[data-vds]")?.remove()}#rt(t){const{clipStartTime:e,clipEndTime:i}=this.ctx.$state,a=e(),s=i();return a>0&&s>0?`${t}#t=${a},${s}`:a>0?`${t}#t=${a}`:s>0?`${t}#t=0,${s}`:t}}},88508:(t,e,i)=>{i.d(e,{z:()=>n});var a=i(94487);class s{#a;#p;#r;#ct=(0,a.O)(!1);get supported(){return this.#ct()}constructor(t,e){this.#a=t,this.#p=e,this.#ut()}#ut(){this.#a?.remote&&this.canPrompt&&(this.#a.remote.watchAvailability(t=>{this.#ct.set(t)}).catch(()=>{this.#ct.set(!1)}),(0,a.QZ)(this.#lt.bind(this)))}#lt(){if(!this.#ct())return;const t=["connecting","connect","disconnect"],e=this.#mt.bind(this);e(),(0,a.k6)(this.#a,"playing",e);const i=new a.En(this.#a.remote);for(const a of t)i.add(a,e)}async prompt(){if(!this.supported)throw Error("Not supported on this platform.");return"airplay"===this.type&&this.#a.webkitShowPlaybackTargetPicker?this.#a.webkitShowPlaybackTargetPicker():this.#a.remote.prompt()}#mt(t){const e=this.#a.remote.state;if(e===this.#r)return;const i={type:this.type,state:e};this.#p.notify("remote-playback-change",i,t),this.#r=e}}class n extends s{type="airplay";get canPrompt(){return"WebKitPlaybackTargetAvailabilityEvent"in window}}}}]);