"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[8652],{17459:(i,e)=>{e.A=(i,e)=>{const a=i.__vccOpts||i;for(const[i,t]of e)a[i]=t;return a}},54642:(i,e,a)=>{a.r(e),a.d(e,{comp:()=>n,data:()=>p});var t=a(92565);const s={},n=(0,a(17459).A)(s,[["render",function(i,e){return(0,t.uX)(),(0,t.CE)("div",null,[e[0]||(e[0]=(0,t.Lk)("p",null,"本文介绍了内网隧道及代理",-1)),(0,t.Q3)(" more "),e[1]||(e[1]=(0,t.Fv)('<h1 id="内网隧道及代理" tabindex="-1"><a class="header-anchor" href="#内网隧道及代理"><span>内网隧道及代理</span></a></h1><h2 id="neo-regeorg隧道" tabindex="-1"><a class="header-anchor" href="#neo-regeorg隧道"><span>Neo-reGeorg隧道</span></a></h2><figure><img src="http://127.0.0.1:42405/assets/image-20241120093806-3qn8rn2.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><ol><li><p>github上下载项目 这里5.2.0</p></li><li><p>环境搭建：</p><p>1.攻击机：外网主机，在该主机上生成shell</p><p>2.连接内外网的服务器：将shell上传到这里 192.168.71.67:80</p><p>边界可以ping 内网主机</p><figure><img src="http://127.0.0.1:42405/assets/image-20241108144334-5plhfy0.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><p>外网攻击机不能ping 内网主机</p><figure><img src="http://127.0.0.1:42405/assets/image-20241108144646-9u87tnu.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><p>3.内网主机：开启了服务 192.168.135.129:80</p></li><li><p>内网主机服务 index （phpinfo）</p><figure><img src="http://127.0.0.1:42405/assets/image-20241108143849-cum6usb.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>攻击机端： 使用前需要先生成shell</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">python neoreg.py generate </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">k password</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="http://127.0.0.1:42405/assets/image-20241108101107-3l8um3n.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>将shell上传到服务器端</p><figure><img src="http://127.0.0.1:42405/assets/image-20241108113043-n3pjdzs.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>攻击机和服务器建立连接</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">python neoreg.py </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">k password </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">u http:</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">//</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">192.168</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.71.67</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">server_shell.php</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="http://127.0.0.1:42405/assets/image-20241108113245-jir3myq.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li></ol><h2 id="浏览器插件代理" tabindex="-1"><a class="header-anchor" href="#浏览器插件代理"><span>浏览器插件代理</span></a></h2><p>在浏览器使用SOCKS5代理到隧道1080</p><figure><img src="http://127.0.0.1:42405/assets/image-20241108145245-uebdnfp.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h2 id="proxifier代理" tabindex="-1"><a class="header-anchor" href="#proxifier代理"><span>proxifier代理</span></a></h2><ol><li><p>或者使用proxifier在攻击机使用proxifile建立规则，和建立隧道的1080端口连接。使用上方建立隧道时所使用的协议SOCKS5.使用proxifier后浏览器里就不用代理。</p><figure><img src="http://127.0.0.1:42405/assets/image-20241108132625-6ecr0n1.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>python.exe要和边界主机建立隧道，所以放在最前面直连。 第二个将firefox的流量代理到隧道。Target Hosts Target Ports 到达任何主机和端口的都代理到隧道。这里将浏览器的HTTP请求转为SOCKS5</p><figure><img src="http://127.0.0.1:42405/assets/image-20241108143336-x066l22.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>建立规则mstsc.exe的流量代理。</p><figure><img src="http://127.0.0.1:42405/assets/image-20241108152502-dyf4mwr.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li></ol><h2 id="sockscap代理" tabindex="-1"><a class="header-anchor" href="#sockscap代理"><span>SocksCap代理</span></a></h2><ol><li><p>添加代理</p><figure><img src="http://127.0.0.1:42405/assets/image-20241108161511-68q4n80.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li><li><p>添加代理程序并访问</p><figure><img src="http://127.0.0.1:42405/assets/image-20241108162305-07ikxhk.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure></li></ol><p>‍</p>',12))])}]]),p=JSON.parse('{"path":"/perm/intranet-tunnel-and-proxy-u9gv8.html","title":"内网隧道及代理","lang":"zh-CN","frontmatter":{"title":"内网隧道及代理","short_title":"","date":"2024-11-08T02:11:05.000Z","description":"本文介绍了内网隧道及代理","tag":["代理","隧道"],"category":["渗透测试"],"article":true,"timeline":false,"isOriginal":true,"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"内网隧道及代理\\",\\"image\\":[\\"http://127.0.0.1:42405/assets/image-20241120093806-3qn8rn2.png\\",\\"http://127.0.0.1:42405/assets/image-20241108144334-5plhfy0.png\\",\\"http://127.0.0.1:42405/assets/image-20241108144646-9u87tnu.png\\",\\"http://127.0.0.1:42405/assets/image-20241108143849-cum6usb.png\\",\\"http://127.0.0.1:42405/assets/image-20241108101107-3l8um3n.png\\",\\"http://127.0.0.1:42405/assets/image-20241108113043-n3pjdzs.png\\",\\"http://127.0.0.1:42405/assets/image-20241108113245-jir3myq.png\\",\\"http://127.0.0.1:42405/assets/image-20241108145245-uebdnfp.png\\",\\"http://127.0.0.1:42405/assets/image-20241108132625-6ecr0n1.png\\",\\"http://127.0.0.1:42405/assets/image-20241108143336-x066l22.png\\",\\"http://127.0.0.1:42405/assets/image-20241108152502-dyf4mwr.png\\",\\"http://127.0.0.1:42405/assets/image-20241108161511-68q4n80.png\\",\\"http://127.0.0.1:42405/assets/image-20241108162305-07ikxhk.png\\"],\\"datePublished\\":\\"2024-11-08T02:11:05.000Z\\",\\"dateModified\\":\\"2025-11-28T14:56:23.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"卷卷\\"}]}"],["meta",{"property":"og:url","content":"https://youze27.github.io/blog/perm/intranet-tunnel-and-proxy-u9gv8.html"}],["meta",{"property":"og:site_name","content":"卷卷"}],["meta",{"property":"og:title","content":"内网隧道及代理"}],["meta",{"property":"og:description","content":"本文介绍了内网隧道及代理"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"http://127.0.0.1:42405/assets/image-20241120093806-3qn8rn2.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-28T14:56:23.000Z"}],["meta",{"property":"article:tag","content":"隧道"}],["meta",{"property":"article:tag","content":"代理"}],["meta",{"property":"article:published_time","content":"2024-11-08T02:11:05.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-28T14:56:23.000Z"}]]},"git":{"createdTime":1764169335000,"updatedTime":1764341783000,"contributors":[{"name":"youze27","username":"youze27","email":"youze27@163.com","commits":3,"url":"https://github.com/youze27"},{"name":"siyuan","username":"siyuan","email":"youze27@163.com","commits":1,"url":"https://github.com/siyuan"}]},"readingTime":{"minutes":1.55,"words":465},"filePathRelative":"perm/intranet-tunnel-and-proxy-u9gv8.md","excerpt":"<p>本文介绍了内网隧道及代理</p>\\n"}')}}]);