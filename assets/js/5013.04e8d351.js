/*! For license information please see 5013.04e8d351.js.LICENSE.txt */
"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[5013,5298],{2537:(t,e,s)=>{s.d(e,{W:()=>n});var i=s(54245);class n extends HTMLElement{rootPart=null;connectedCallback(){this.rootPart=(0,i.XX)(this.render(),this,{renderBefore:this.firstChild}),this.rootPart.setConnected(!0)}disconnectedCallback(){this.rootPart?.setConnected(!1),this.rootPart=null,(0,i.XX)(null,this)}}},6566:(t,e,s)=>{s.d(e,{DW:()=>f,ES:()=>w,L4:()=>p,M0:()=>m,MA:()=>E,Ov:()=>u,Q_:()=>P,SI:()=>x,T$:()=>y,Th:()=>c,Yp:()=>T,Z4:()=>$,cZ:()=>D,cw:()=>C,eq:()=>A,gx:()=>v,mo:()=>S,oY:()=>k,pt:()=>h,py:()=>l,sE:()=>d,tV:()=>b,xi:()=>M,yA:()=>g,zR:()=>V});var i=s(94487),n=s(65203),a=s(68686),r=s(99469);const o=(0,a.Xu)('<img loading="eager" decoding="async" aria-hidden="true">');class h extends((0,i.xr)(HTMLElement,n.Vz)){static tagName="media-thumbnail";static attrs={crossOrigin:"crossorigin"};#t;#e=this.#s();onSetup(){this.#t=(0,r.$c)(),this.$state.img.set(this.#e)}onConnect(){const{src:t,crossOrigin:e}=this.$state;this.#e.parentNode!==this&&this.prepend(this.#e),(0,i.QZ)(()=>{(0,i.Bq)(this.#e,"src",t()),(0,i.Bq)(this.#e,"crossorigin",e())})}#s(){return(0,a.n5)(o)}}class d extends((0,i.xr)(HTMLElement,n.gX)){static tagName="media-time";onConnect(){(0,i.QZ)(()=>{this.textContent=this.$state.timeText()})}}class l extends((0,i.xr)(HTMLElement,n.P$)){static tagName="media-airplay-button"}class c extends((0,i.xr)(HTMLElement,n.vD)){static tagName="media-caption-button"}class u extends((0,i.xr)(HTMLElement,n.Ah)){static tagName="media-fullscreen-button"}class p extends((0,i.xr)(HTMLElement,n.zg)){static tagName="media-live-button"}class m extends((0,i.xr)(HTMLElement,n.Y1)){static tagName="media-mute-button"}class g extends((0,i.xr)(HTMLElement,n.yF)){static tagName="media-pip-button"}class b extends((0,i.xr)(HTMLElement,n.DM)){static tagName="media-play-button"}class $ extends((0,i.xr)(HTMLElement,n.xK)){static tagName="media-seek-button"}function v(t,e){(0,a.jx)(()=>{if(!t.connectScope)return;const s=t.querySelector("template");s&&(0,i.QZ)(()=>{const n=t.getOptions();(0,a.U1)(s,n.length,(t,s)=>{const{label:a,value:r}=n[s],o=t.querySelector('[data-part="label"]');t.setAttribute("value",r),o&&((0,i.Kg)(a)?o.textContent=a:(0,i.QZ)(()=>{o.textContent=a()})),e?.(t,n[s],s)})})})}class f extends((0,i.xr)(HTMLElement,n.l9)){static tagName="media-audio-radio-group";onConnect(){v(this)}}class w extends((0,i.xr)(HTMLElement,n._U)){static tagName="media-captions-radio-group";onConnect(){v(this)}}class A extends((0,i.xr)(HTMLElement,n.W1)){static tagName="media-menu"}class x extends((0,i.xr)(HTMLElement,n.IU)){static tagName="media-menu-button"}class y extends((0,i.xr)(HTMLElement,n.Dr)){static tagName="media-menu-item"}class S extends((0,i.xr)(HTMLElement,n.c)){static tagName="media-menu-items"}class T extends((0,i.xr)(HTMLElement,n.GT)){static tagName="media-speed-radio-group";onConnect(){v(this)}}class P extends((0,i.xr)(HTMLElement,n.i2)){static tagName="media-quality-radio-group";onConnect(){v(this,(t,e)=>{const s=e.bitrate,n=t.querySelector('[data-part="bitrate"]');s&&n&&(0,i.QZ)(()=>{n.textContent=s()||""})})}}class k extends((0,i.xr)(HTMLElement,n.sx)){static tagName="media-radio"}class C extends h{static tagName="media-slider-thumbnail";#t;#i;onSetup(){super.onSetup(),this.#t=(0,r.$c)(),this.#i=(0,i.J0)(n.Ap.state)}onConnect(){super.onConnect(),(0,i.QZ)(this.#n.bind(this))}#n(){const{duration:t,clipStartTime:e}=this.#t.$state;this.time=e()+this.#i.pointerRate()*t()}}class M extends((0,i.xr)(HTMLElement,n.v$)){static tagName="media-slider-value";static attrs={padMinutes:{converter:i.Jx}};onConnect(){(0,i.QZ)(()=>{this.textContent=this.getValueText()})}}class V extends((0,i.xr)(HTMLElement,n.pU)){static tagName="media-time-slider"}class E extends((0,i.xr)(HTMLElement,n.M7)){static tagName="media-slider-preview"}class D extends((0,i.xr)(HTMLElement,n.Sb)){static tagName="media-volume-slider"}},7243:(t,e,s)=>{function i(t,e){return[...t].sort(e?a:n)}function n(t,e){return t.height===e.height?(t.bitrate??0)-(e.bitrate??0):t.height-e.height}function a(t,e){return e.height===t.height?(e.bitrate??0)-(t.bitrate??0):e.height-t.height}s.d(e,{F:()=>i})},25298:(t,e,s)=>{s.d(e,{MediaPosterElement:()=>o});var i=s(94487),n=s(99469),a=s(73362);class r extends i.uA{static props={src:null,alt:null,crossOrigin:null};static state=new i.Uw({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});#t;onSetup(){this.#t=(0,n.$c)(),this.#a(),this.#r(),this.#o(),this.#h()}onAttach(t){t.style.setProperty("pointer-events","none"),(0,i.QZ)(this.#d.bind(this)),(0,i.QZ)(this.#a.bind(this)),(0,i.QZ)(this.#r.bind(this)),(0,i.QZ)(this.#o.bind(this)),(0,i.QZ)(this.#h.bind(this));const{started:e}=this.#t.$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":this.#l.bind(this),"data-error":this.#c.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){(0,i.QZ)(this.#u.bind(this)),(0,i.QZ)(this.#p.bind(this))}#c(){const{error:t}=this.$state;return!(0,i.kZ)(t())}#u(){const{canLoadPoster:t,poster:e}=this.#t.$state;!t()&&e()&&(0,a.kZ)(e(),"preconnect")}#h(){const{src:t}=this.$props,{poster:e,nativeControls:s}=this.#t.$state;this.el&&(0,i.Bq)(this.el,"display",s()?"none":null),this.$state.hidden.set(this.#c()||!(t()||e())||s())}#l(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}#d(){const t=this.$state.img();t&&(new i.En(t).add("load",this.#m.bind(this)).add("error",this.#g.bind(this)),t.complete&&this.#m())}#b="";#a(){const{poster:t}=this.#t.$props,{canLoadPoster:e,providedPoster:s,inferredPoster:i}=this.#t.$state,n=this.$props.src()||"",a=n||t()||i();this.#b===s()&&s.set(n),this.$state.src.set(e()&&a.length?a:null),this.#b=n}#r(){const{src:t}=this.$props,{alt:e}=this.$state,{poster:s}=this.#t.$state;e.set(t()||s()?this.$props.alt():null)}#o(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s,poster:i}=this.#t.$state,n=null!==t()?t():s();e.set(/ytimg\.com|vimeo/.test(i()||"")?null:!0===n?"anonymous":n)}#p(){const{loading:t,error:e}=this.$state,{canLoadPoster:s,poster:i}=this.#t.$state;t.set(s()&&!!i()),e.set(null)}#m(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}#g(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}}class o extends((0,i.xr)(HTMLElement,r)){static tagName="media-poster";static attrs={crossOrigin:"crossorigin"};#e=document.createElement("img");onSetup(){this.$state.img.set(this.#e)}onConnect(){const{src:t,alt:e,crossOrigin:s}=this.$state;(0,i.QZ)(()=>{const{loading:t,hidden:e}=this.$state;this.#e.style.display=t()||e()?"none":""}),(0,i.QZ)(()=>{(0,i.Bq)(this.#e,"alt",e()),(0,i.Bq)(this.#e,"crossorigin",s()),(0,i.Bq)(this.#e,"src",t())}),this.#e.parentNode!==this&&this.prepend(this.#e)}}},54245:(t,e,s)=>{var i;s.d(e,{XX:()=>K,c0:()=>P,ge:()=>B,qy:()=>T,s6:()=>k});const n=window,a=n.trustedTypes,r=a?a.createPolicy("lit-html",{createHTML:t=>t}):void 0,o="$lit$",h=`lit$${(Math.random()+"").slice(9)}$`,d="?"+h,l=`<${d}>`,c=document,u=()=>c.createComment(""),p=t=>null===t||"object"!=typeof t&&"function"!=typeof t,m=Array.isArray,g=t=>m(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),b="[ \t\n\f\r]",$=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,f=/>/g,w=RegExp(`>|${b}(?:([^\\s"'>=/]+)(${b}*=${b}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),A=/'/g,x=/"/g,y=/^(?:script|style|textarea|title)$/i,S=t=>(e,...s)=>({_$litType$:t,strings:e,values:s}),T=S(1),P=(S(2),Symbol.for("lit-noChange")),k=Symbol.for("lit-nothing"),C=new WeakMap,M=c.createTreeWalker(c,129,null,!1);function V(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==r?r.createHTML(e):e}const E=(t,e)=>{const s=t.length-1,i=[];let n,a=2===e?"<svg>":"",r=$;for(let e=0;e<s;e++){const s=t[e];let d,c,u=-1,p=0;for(;p<s.length&&(r.lastIndex=p,c=r.exec(s),null!==c);)p=r.lastIndex,r===$?"!--"===c[1]?r=v:void 0!==c[1]?r=f:void 0!==c[2]?(y.test(c[2])&&(n=RegExp("</"+c[2],"g")),r=w):void 0!==c[3]&&(r=w):r===w?">"===c[0]?(r=null!=n?n:$,u=-1):void 0===c[1]?u=-2:(u=r.lastIndex-c[2].length,d=c[1],r=void 0===c[3]?w:'"'===c[3]?x:A):r===x||r===A?r=w:r===v||r===f?r=$:(r=w,n=void 0);const m=r===w&&t[e+1].startsWith("/>")?" ":"";a+=r===$?s+l:u>=0?(i.push(d),s.slice(0,u)+o+s.slice(u)+h+m):s+h+(-2===u?(i.push(void 0),e):m)}return[V(t,a+(t[s]||"<?>")+(2===e?"</svg>":"")),i]};class D{constructor({strings:t,_$litType$:e},s){let i;this.parts=[];let n=0,r=0;const l=t.length-1,c=this.parts,[p,m]=E(t,e);if(this.el=D.createElement(p,s),M.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=M.nextNode())&&c.length<l;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith(o)||e.startsWith(h)){const s=m[r++];if(t.push(e),void 0!==s){const t=i.getAttribute(s.toLowerCase()+o).split(h),e=/([.?@])?(.*)/.exec(s);c.push({type:1,index:n,name:e[2],strings:t,ctor:"."===e[1]?H:"?"===e[1]?Q:"@"===e[1]?Z:N})}else c.push({type:6,index:n})}for(const e of t)i.removeAttribute(e)}if(y.test(i.tagName)){const t=i.textContent.split(h),e=t.length-1;if(e>0){i.textContent=a?a.emptyScript:"";for(let s=0;s<e;s++)i.append(t[s],u()),M.nextNode(),c.push({type:2,index:++n});i.append(t[e],u())}}}else if(8===i.nodeType)if(i.data===d)c.push({type:2,index:n});else{let t=-1;for(;-1!==(t=i.data.indexOf(h,t+1));)c.push({type:7,index:n}),t+=h.length-1}n++}}static createElement(t,e){const s=c.createElement("template");return s.innerHTML=t,s}}function _(t,e,s=t,i){var n,a,r,o;if(e===P)return e;let h=void 0!==i?null===(n=s._$Co)||void 0===n?void 0:n[i]:s._$Cl;const d=p(e)?void 0:e._$litDirective$;return(null==h?void 0:h.constructor)!==d&&(null===(a=null==h?void 0:h._$AO)||void 0===a||a.call(h,!1),void 0===d?h=void 0:(h=new d(t),h._$AT(t,s,i)),void 0!==i?(null!==(r=(o=s)._$Co)&&void 0!==r?r:o._$Co=[])[i]=h:s._$Cl=h),void 0!==h&&(e=_(t,h._$AS(t,e.values),h,i)),e}class I{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:s},parts:i}=this._$AD,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:c).importNode(s,!0);M.currentNode=n;let a=M.nextNode(),r=0,o=0,h=i[0];for(;void 0!==h;){if(r===h.index){let e;2===h.type?e=new L(a,a.nextSibling,this,t):1===h.type?e=new h.ctor(a,h.name,h.strings,this,t):6===h.type&&(e=new R(a,this,t)),this._$AV.push(e),h=i[++o]}r!==(null==h?void 0:h.index)&&(a=M.nextNode(),r++)}return M.currentNode=c,n}v(t){let e=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}}class L{constructor(t,e,s,i){var n;this.type=2,this._$AH=k,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=i,this._$Cp=null===(n=null==i?void 0:i.isConnected)||void 0===n||n}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=_(this,t,e),p(t)?t===k||null==t||""===t?(this._$AH!==k&&this._$AR(),this._$AH=k):t!==this._$AH&&t!==P&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):g(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==k&&p(this._$AH)?this._$AA.nextSibling.data=t:this.$(c.createTextNode(t)),this._$AH=t}g(t){var e;const{values:s,_$litType$:i}=t,n="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=D.createElement(V(i.h,i.h[0]),this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===n)this._$AH.v(s);else{const t=new I(n,this),e=t.u(this.options);t.v(s),this.$(e),this._$AH=t}}_$AC(t){let e=C.get(t.strings);return void 0===e&&C.set(t.strings,e=new D(t)),e}T(t){m(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,i=0;for(const n of t)i===e.length?e.push(s=new L(this.k(u()),this.k(u()),this,this.options)):s=e[i],s._$AI(n),i++;i<e.length&&(this._$AR(s&&s._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class N{constructor(t,e,s,i,n){this.type=1,this._$AH=k,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=n,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=k}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,s,i){const n=this.strings;let a=!1;if(void 0===n)t=_(this,t,e,0),a=!p(t)||t!==this._$AH&&t!==P,a&&(this._$AH=t);else{const i=t;let r,o;for(t=n[0],r=0;r<n.length-1;r++)o=_(this,i[s+r],e,r),o===P&&(o=this._$AH[r]),a||(a=!p(o)||o!==this._$AH[r]),o===k?t=k:t!==k&&(t+=(null!=o?o:"")+n[r+1]),this._$AH[r]=o}a&&!i&&this.j(t)}j(t){t===k?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class H extends N{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===k?void 0:t}}const O=a?a.emptyScript:"";class Q extends N{constructor(){super(...arguments),this.type=4}j(t){t&&t!==k?this.element.setAttribute(this.name,O):this.element.removeAttribute(this.name)}}class Z extends N{constructor(t,e,s,i,n){super(t,e,s,i,n),this.type=5}_$AI(t,e=this){var s;if((t=null!==(s=_(this,t,e,0))&&void 0!==s?s:k)===P)return;const i=this._$AH,n=t===k&&i!==k||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,a=t!==k&&(i===k||n);n&&this.element.removeEventListener(this.name,this,i),a&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class R{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){_(this,t)}}const B={O:o,P:h,A:d,C:1,M:E,L:I,R:g,D:_,I:L,V:N,H:Q,N:Z,U:H,F:R},q=n.litHtmlPolyfillSupport;null==q||q(D,L),(null!==(i=n.litHtmlVersions)&&void 0!==i?i:n.litHtmlVersions=[]).push("2.8.0");const K=(t,e,s)=>{var i,n;const a=null!==(i=null==s?void 0:s.renderBefore)&&void 0!==i?i:e;let r=a._$litPart$;if(void 0===r){const t=null!==(n=null==s?void 0:s.renderBefore)&&void 0!==n?n:null;a._$litPart$=r=new L(e.insertBefore(u(),t),t,void 0,null!=s?s:{})}return r._$AI(t),r}},65203:(t,e,s)=>{s.d(e,{Ah:()=>y,Ap:()=>H,DM:()=>A,Dr:()=>nt,Dz:()=>C,GT:()=>$t,HL:()=>z,IU:()=>st,M7:()=>K,ND:()=>v,P$:()=>w,Pn:()=>L,Sb:()=>F,Vz:()=>R,W1:()=>et,Y1:()=>S,Zc:()=>f,_U:()=>mt,c:()=>ot,c7:()=>N,fU:()=>b,gN:()=>at,gX:()=>At,i2:()=>ft,l9:()=>ut,lA:()=>$,pU:()=>U,rW:()=>dt,sx:()=>lt,v$:()=>B,vD:()=>x,xK:()=>P,yF:()=>T,zg:()=>k});var i=s(94487),n=s(99469),a=s(68686),r=s(85802),o=s(40213),h=s(54447),d=s(59107),l=s(73362),c=s(2037),u=s(7243);class p extends i.WO{#$;constructor(t){super(),this.#$=t}onAttach(t){const{$props:e,ariaKeys:s}=(0,n.$c)(),a=t.getAttribute("aria-keyshortcuts");if(a)return s[this.#$]=a,void(0,i.zp)(()=>{delete s[this.#$]});const r=e.keyShortcuts()[this.#$];if(r){const e=(0,i.cy)(r)?r.join(" "):(0,i.Kg)(r)?r:r?.keys;t.setAttribute("aria-keyshortcuts",(0,i.cy)(e)?e.join(" "):e)}}}function m(t,e){const s=String(t),i=s.length;return i<e?`${"0".repeat(e-i)}${t}`:s}function g(t){return{hours:Math.trunc(t/3600),minutes:Math.trunc(t%3600/60),seconds:Math.trunc(t%60),fraction:Number((t-Math.trunc(t)).toPrecision(3))}}function b(t,{padHrs:e=null,padMins:s=null,showHrs:n=!1,showMs:a=!1}={}){const{hours:r,minutes:o,seconds:h,fraction:d}=g(t),l=e?m(r,2):r,c=`${s||(0,i.kZ)(s)&&t>=3600?m(o,2):o}:${m(h,2)}${a&&d>0?`.${String(d).replace(/^0?\./,"")}`:""}`;return r>0||n?`${l}:${c}`:c}function $(t){const e=[],{hours:s,minutes:i,seconds:n}=g(t);return s>0&&e.push(`${s} hour`),i>0&&e.push(`${i} min`),(n>0||0===e.length)&&e.push(`${n} sec`),e.join(" ")}class v extends i.WO{#v;constructor(t){super(),this.#v=t,(0,i.QZ)(this.#f.bind(this))}onDestroy(){this.#w?.(),this.#w=null}#f(){const t=this.#v.trigger();if(!t)return void this.hide();const e=this.show.bind(this),s=this.hide.bind(this);this.#v.listen(t,e,s)}#A=-1;#x=-1;#w=null;show(t){this.#y(),window.cancelAnimationFrame(this.#x),this.#x=-1,this.#w?.(),this.#w=null,this.#A=window.setTimeout(()=>{this.#A=-1;const e=this.#v.content();e&&e.style.removeProperty("display"),(0,i.se)(()=>this.#v.onChange(!0,t))},this.#v.showDelay?.()??0)}hide(t){this.#y(),(0,i.se)(()=>this.#v.onChange(!1,t)),this.#x=requestAnimationFrame(()=>{this.#y(),this.#x=-1;const t=this.#v.content();if(t){const e=()=>{t.style.display="none",this.#w=null};if((0,a.LY)(t)){this.#w?.();const s=(0,i.k6)(t,"animationend",e,{once:!0});this.#w=s}else e()}})}#y(){window.clearTimeout(this.#A),this.#A=-1}}class f extends i.WO{static props={disabled:!1};#v;constructor(t){super(),this.#v=t,new o.f,t.keyShortcut&&new p(t.keyShortcut)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.#v.isPresssed,"aria-pressed":this.#S.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){(0,a.jk)(t,"tabindex","0"),(0,a.jk)(t,"role","button"),(0,a.jk)(t,"type","button")}onConnect(t){const e=(0,a.$)(t,this.#T.bind(this));for(const t of["click","touchstart"])e.add(t,this.#P.bind(this),{passive:!0})}#S(){return(0,i.ox)(this.#v.isPresssed())}#k(t){(0,i.wd)(this.#v.isPresssed)&&this.#v.isPresssed.set(t=>!t)}#T(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled"))return t.preventDefault(),void t.stopImmediatePropagation();t.preventDefault(),(this.#v.onPress??this.#k).call(this,t)}#P(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}}class w extends i.uA{static props=f.props;#t;constructor(){super(),new f({isPresssed:this.#C.bind(this),onPress:this.#M.bind(this)})}onSetup(){this.#t=(0,n.$c)();const{canAirPlay:t,isAirPlayConnected:e}=this.#t.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.#V.bind(this),"aria-hidden":(0,a.Mc)(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),(0,a.Y1)(t,this.#E.bind(this))}#M(t){this.#t.remote.requestAirPlay(t)}#C(){const{remotePlaybackType:t,remotePlaybackState:e}=this.#t.$state;return"airplay"===t()&&"disconnected"!==e()}#V(){const{remotePlaybackType:t,remotePlaybackState:e}=this.#t.$state;return"airplay"===t()&&e()}#E(){const{remotePlaybackState:t}=this.#t.$state;return`AirPlay ${t()}`}}class A extends i.uA{static props=f.props;#t;constructor(){super(),new f({isPresssed:this.#C.bind(this),keyShortcut:"togglePaused",onPress:this.#M.bind(this)})}onSetup(){this.#t=(0,n.$c)();const{paused:t,ended:e}=this.#t.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),(0,a.Y1)(t,"Play")}#M(t){const e=this.#t.remote;this.#C()?e.pause(t):e.play(t)}#C(){const{paused:t}=this.#t.$state;return!t()}}class x extends i.uA{static props=f.props;#t;constructor(){super(),new f({isPresssed:this.#C.bind(this),keyShortcut:"toggleCaptions",onPress:this.#M.bind(this)})}onSetup(){this.#t=(0,n.$c)(),this.setAttributes({"data-active":this.#C.bind(this),"data-supported":()=>!this.#D(),"aria-hidden":(0,a.Mc)(this.#D.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),(0,a.Y1)(t,"Captions")}#M(t){this.#t.remote.toggleCaptions(t)}#C(){const{textTrack:t}=this.#t.$state,e=t();return!!e&&(0,r._k)(e)}#D(){const{hasCaptions:t}=this.#t.$state;return!t()}}class y extends i.uA{static props={...f.props,target:"prefer-media"};#t;constructor(){super(),new f({isPresssed:this.#C.bind(this),keyShortcut:"toggleFullscreen",onPress:this.#M.bind(this)})}onSetup(){this.#t=(0,n.$c)();const{fullscreen:t}=this.#t.$state,e=this.#_.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":(0,a.Mc)(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),(0,a.Y1)(t,"Fullscreen")}#M(t){const e=this.#t.remote,s=this.$props.target();this.#C()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}#C(){const{fullscreen:t}=this.#t.$state;return t()}#_(){const{canFullscreen:t}=this.#t.$state;return t()}}class S extends i.uA{static props=f.props;#t;constructor(){super(),new f({isPresssed:this.#C.bind(this),keyShortcut:"toggleMuted",onPress:this.#M.bind(this)})}onSetup(){this.#t=(0,n.$c)(),this.setAttributes({"data-muted":this.#C.bind(this),"data-state":this.#V.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),(0,a.Y1)(t,"Mute")}#M(t){const e=this.#t.remote;this.#C()?e.unmute(t):e.mute(t)}#C(){const{muted:t,volume:e}=this.#t.$state;return t()||0===e()}#V(){const{muted:t,volume:e}=this.#t.$state,s=e();return t()||0===s?"muted":s>=.5?"high":s<.5?"low":void 0}}class T extends i.uA{static props=f.props;#t;constructor(){super(),new f({isPresssed:this.#C.bind(this),keyShortcut:"togglePictureInPicture",onPress:this.#M.bind(this)})}onSetup(){this.#t=(0,n.$c)();const{pictureInPicture:t}=this.#t.$state,e=this.#_.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":(0,a.Mc)(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),(0,a.Y1)(t,"PiP")}#M(t){const e=this.#t.remote;this.#C()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}#C(){const{pictureInPicture:t}=this.#t.$state;return t()}#_(){const{canPictureInPicture:t}=this.#t.$state;return t()}}class P extends i.uA{static props={disabled:!1,seconds:30};#t;constructor(){super(),new o.f}onSetup(){this.#t=(0,n.$c)();const{seeking:t}=this.#t.$state,{seconds:e}=this.$props,s=this.#_.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":(0,a.Mc)(()=>!s())})}onAttach(t){(0,a.jk)(t,"tabindex","0"),(0,a.jk)(t,"role","button"),(0,a.jk)(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),(0,a.Y1)(t,this.#E.bind(this))}onConnect(t){(0,a.$)(t,this.#M.bind(this))}#_(){const{canSeek:t}=this.#t.$state;return t()}#E(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}#M(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:i}=this.#t.$state,n=i()+e();this.#t.remote.seek(n,t)}}class k extends i.uA{static props={disabled:!1};#t;constructor(){super(),new o.f}onSetup(){this.#t=(0,n.$c)();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.#t.$state,i=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":i,"aria-disabled":(0,a.Mc)(()=>t()||s()),"aria-hidden":(0,a.Mc)(i)})}onAttach(t){(0,a.jk)(t,"tabindex","0"),(0,a.jk)(t,"role","button"),(0,a.jk)(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){(0,a.$)(t,this.#M.bind(this))}#M(t){const{disabled:e}=this.$props,{liveEdge:s}=this.#t.$state;e()||s()||this.#t.remote.seekToLiveEdge(t)}}const C=new i.Uw({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return M(this.min,this.max,this.value)},get fillPercent(){return 100*this.fillRate},get pointerRate(){return M(this.min,this.max,this.pointerValue)},get pointerPercent(){return 100*this.pointerRate}});function M(t,e,s){const i=e-t;return i>0?(s-t)/i:0}class V extends i.WO{#I;#L;constructor(t){super(),this.#I=t}onConnect(t){this.#L=new IntersectionObserver(t=>{this.#I.callback?.(t,this.#L)},this.#I),this.#L.observe(t),(0,i.zp)(this.#N.bind(this))}#N(){this.#L?.disconnect(),this.#L=void 0}}const E=(0,i.q6)(),D=(0,i.q6)(),_={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class I extends i.WO{#v;#t;#L;constructor(t,e){super(),this.#v=t,this.#t=e}onSetup(){(0,i.TQ)(D)&&(this.#L=(0,i.NT)(D))}onConnect(t){(0,i.QZ)(this.#H.bind(this,t)),(0,i.QZ)(this.#O.bind(this,t)),this.#v.swipeGesture&&(0,i.QZ)(this.#Q.bind(this))}#Q(){const{pointer:t}=this.#t.$state;"coarse"===t()&&this.#v.swipeGesture()?(this.#Z=this.#t.player.el?.querySelector("media-provider,[data-media-provider]"),this.#Z&&new i.En(this.#Z).add("touchstart",this.#R.bind(this),{passive:!0}).add("touchmove",this.#B.bind(this),{passive:!1})):this.#Z=null}#Z=null;#q=null;#K=null;#R(t){this.#q=t.touches[0]}#B(t){if((0,i.kZ)(this.#q)||(0,a.Mb)(t))return;const e=t.touches[0],s=e.clientX-this.#q.clientX,n=e.clientY-this.#q.clientY,r=this.$state.dragging();!r&&Math.abs(n)>5||r||(t.preventDefault(),Math.abs(s)>20&&(this.#q=e,this.#K=this.$state.value(),this.#F(this.#K,t)))}#H(t){const{hidden:e}=this.$props;(0,i.k6)(t,"focus",this.#U.bind(this)),e()||this.#v.isDisabled()||new i.En(t).add("keyup",this.#z.bind(this)).add("keydown",this.#j.bind(this)).add("pointerenter",this.#W.bind(this)).add("pointermove",this.#G.bind(this)).add("pointerleave",this.#J.bind(this)).add("pointerdown",this.#Y.bind(this))}#O(t){!this.#v.isDisabled()&&this.$state.dragging()&&new i.En(document).add("pointerup",this.#X.bind(this),{capture:!0}).add("pointermove",this.#tt.bind(this)).add("touchmove",this.#et.bind(this),{passive:!1})}#U(){this.#st(this.$state.value())}#it(t,e){const{value:s,min:i,max:n,dragging:a}=this.$state,r=Math.max(i(),Math.min(t,n()));s.set(r);const o=this.createEvent("value-change",{detail:r,trigger:e});if(this.dispatch(o),this.#v.onValueChange?.(o),a()){const t=this.createEvent("drag-value-change",{detail:r,trigger:e});this.dispatch(t),this.#v.onDragValueChange?.(t)}}#st(t,e){const{pointerValue:s,dragging:i}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),i()&&this.#it(t,e)}#nt(t){let e,s=this.el.getBoundingClientRect(),{min:n,max:a}=this.$state;if("vertical"===this.$props.orientation()){const{bottom:i,height:n}=s;e=(i-t.clientY)/n}else if(this.#q&&(0,i.Et)(this.#K)){const{width:s}=this.#Z.getBoundingClientRect(),i=(t.clientX-this.#q.clientX)/s,r=a()-n(),o=r*Math.abs(i);e=(i<0?this.#K-o:this.#K+o)/r}else{const{left:i,width:n}=s;e=(t.clientX-i)/n}return Math.max(n(),Math.min(a(),this.#v.roundValue(function(t,e,s,i){const n=(e-t)*(0,h.N)(0,s,1)/i;return t+i*Math.round(n)}(n(),a(),e,this.#v.getStep()))))}#W(t){this.$state.pointing.set(!0)}#G(t){const{dragging:e}=this.$state;e()||this.#st(this.#nt(t),t)}#J(t){this.$state.pointing.set(!1)}#Y(t){if(0!==t.button)return;const e=this.#nt(t);this.#F(e,t),this.#st(e,t)}#F(t,e){const{dragging:s}=this.$state;if(s())return;s.set(!0),this.#t.remote.pauseControls(e);const i=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(i),this.#v.onDragStart?.(i),this.#L?.onDragStart?.()}#at(t,e){const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.#t.remote.resumeControls(e);const i=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(i),this.#v.onDragEnd?.(i),this.#q=null,this.#K=null,this.#L?.onDragEnd?.()}#rt;#ot=!1;#j(t){if(!Object.keys(_).includes(t.key))return;const{key:e}=t,s=this.#ht(t);if(!(0,i.kZ)(s))return this.#st(s,t),void this.#it(s,t);const n=this.#dt(t);this.#ot||(this.#ot=e===this.#rt,!this.$state.dragging()&&this.#ot&&this.#F(n,t)),this.#st(n,t),this.#rt=e}#z(t){if(!Object.keys(_).includes(t.key)||!(0,i.kZ)(this.#ht(t)))return;const e=this.#ot?this.$state.pointerValue():this.#dt(t);this.#it(e,t),this.#at(e,t),this.#rt="",this.#ot=!1}#ht(t){let e=t.key,{min:s,max:i}=this.$state;return"Home"===e||"PageUp"===e?s():"End"===e||"PageDown"===e?i():!t.metaKey&&/^[0-9]$/.test(e)?(i()-s())/10*Number(e):null}#dt(t){const{key:e,shiftKey:s}=t;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:i}=this.$props,{min:n,max:a,value:r,pointerValue:o}=this.$state,h=this.#v.getStep(),d=this.#v.getKeyStep(),l=(s?d*i():d)*Number(_[e]),c=((this.#ot?o():this.#v.getValue?.()??r())+l)/h;return Math.max(n(),Math.min(a(),Number((h*c).toFixed(3))))}#X(t){if(0!==t.button)return;t.preventDefault(),t.stopImmediatePropagation();const e=this.#nt(t);this.#st(e,t),this.#at(e,t)}#et(t){t.preventDefault()}#tt=(0,i.z3)(t=>{this.#st(this.#nt(t),t)},20,{leading:!0})}const L=(0,i.q6)(()=>({}));class N extends i.WO{static props={hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};#t;#v;#lt=(0,i.O)(!0);#ct=(0,i.O)(!0);constructor(t){super(),this.#v=t}onSetup(){this.#t=(0,n.$c)();const t=new o.f;t.attach(this),this.$state.focused=t.focused.bind(t),(0,i.TQ)(L)||(0,i.Pp)(L,{default:"value"}),(0,i.Pp)(E,{orientation:this.$props.orientation,disabled:this.#v.isDisabled,preview:(0,i.O)(null)}),(0,i.QZ)(this.#ut.bind(this)),(0,i.QZ)(this.#pt.bind(this)),(0,i.QZ)(this.#mt.bind(this)),this.#gt(),new I(this.#v,this.#t).attach(this),new V({callback:this.#bt.bind(this)}).attach(this)}onAttach(t){(0,a.jk)(t,"role","slider"),(0,a.jk)(t,"tabindex","0"),(0,a.jk)(t,"autocomplete","off"),(0,i.QZ)(this.#$t.bind(this))}onConnect(t){(0,i.zp)((0,a.tD)(t,this.#lt.set)),(0,i.QZ)(this.#h.bind(this))}#bt(t){this.#ct.set(t[0].isIntersecting)}#h(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.#lt()||!this.#ct.bind(this))}#ut(){const{dragging:t,value:e,min:s,max:n}=this.$state;(0,i.se)(t)||e.set(function(t,e,s,i){return(0,h.N)(t,(0,h.LI)(s,(0,h.Q4)(i)),e)}(s(),n(),e(),this.#v.getStep()))}#pt(){this.$state.step.set(this.#v.getStep())}#mt(){if(!this.#v.isDisabled())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}#vt(){return(0,i.ox)(this.#v.isDisabled())}#gt(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:i}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":i,"data-active":s,"aria-disabled":this.#vt.bind(this),"aria-valuemin":this.#v.aria.valueMin??this.$state.min,"aria-valuemax":this.#v.aria.valueMax??this.$state.max,"aria-valuenow":this.#v.aria.valueNow,"aria-valuetext":this.#v.aria.valueText,"aria-orientation":t})}#$t(){const{fillPercent:t,pointerPercent:e}=this.$state;this.#ft((0,h.LI)(t(),3),(0,h.LI)(e(),3))}#ft=(0,i.s_)((t,e)=>{this.el?.style.setProperty("--slider-fill",t+"%"),this.el?.style.setProperty("--slider-pointer",e+"%")})}class H extends i.uA{static props={...N.props,min:0,max:100,value:0};static state=C;constructor(){super(),new N({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.$props.disabled,aria:{valueNow:this.#wt.bind(this),valueText:this.#At.bind(this)}})}onSetup(){(0,i.QZ)(this.#ut.bind(this)),(0,i.QZ)(this.#xt.bind(this))}#wt(){const{value:t}=this.$state;return Math.round(t())}#At(){const{value:t,max:e}=this.$state;return(0,h.LI)(t()/e()*100,2)+"%"}#ut(){const{value:t}=this.$props;this.$state.value.set(t())}#xt(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}}const O=new Map,Q=new Map;class Z{#t;#yt;#St;$images=(0,i.O)([]);static create(t,e){const s=(0,n.$c)();return new Z(t,e,s)}constructor(t,e,s){this.#yt=t,this.#St=e,this.#t=s,(0,i.QZ)(this.#Tt.bind(this))}#Tt(){const{canLoad:t}=this.#t.$state;if(!t())return;const e=this.#yt();if(e){if((0,i.Kg)(e)&&O.has(e)){const t=O.get(e);if(O.delete(e),O.set(e,t),O.size>99){const t=O.keys().next().value;O.delete(t)}this.$images.set(O.get(e))}else if((0,i.Kg)(e)){const t=this.#St(),n=e+"::"+t;if(!Q.has(n)){const a=new Promise(async(n,a)=>{try{const r=await fetch(e,{credentials:(0,l.WF)(t)});if("application/json"===r.headers.get("content-type")){const t=await r.json();if((0,i.cy)(t))if(t[0]&&"text"in t[0])n(this.#Pt(t));else{for(let e=0;e<t.length;e++){const s=t[e];(0,d.v)((0,i.Gv)(s),!1),(0,d.v)("url"in s&&(0,i.Kg)(s.url),!1),(0,d.v)("startTime"in s&&(0,i.Et)(s.startTime),!1)}n(t)}else n(this.#kt(t));return}s.e(3463).then(s.bind(s,43463)).then(async({parseResponse:t})=>{try{const{cues:e}=await t(r);n(this.#Pt(e))}catch(t){a(t)}})}catch(t){a(t)}}).then(t=>(O.set(n,t),t)).catch(t=>{this.#g(e,t)}).finally(()=>{(0,i.Kg)(n)&&Q.delete(n)});Q.set(n,a)}Q.get(n)?.then(t=>{this.$images.set(t||[])})}else if((0,i.cy)(e))try{this.$images.set(this.#Ct(e))}catch(t){this.#g(e,t)}else try{this.$images.set(this.#kt(e))}catch(t){this.#g(e,t)}return()=>{this.$images.set([])}}}#Ct(t){const e=this.#Mt();return t.map((t,s)=>((0,d.v)(t.url&&(0,i.Kg)(t.url)),(0,d.v)("startTime"in t&&(0,i.Et)(t.startTime)),{...t,url:(0,i.Kg)(t.url)?this.#Vt(t.url,e):t.url}))}#kt(t){(0,d.v)((0,i.Kg)(t.url)),(0,d.v)((0,i.cy)(t.tiles)&&t.tiles?.length);const e=new URL(t.url),s=[],n="tile_width"in t?t.tile_width:t.tileWidth,a="tile_height"in t?t.tile_height:t.tileHeight;for(const i of t.tiles)s.push({url:e,startTime:"start"in i?i.start:i.startTime,width:n,height:a,coords:{x:i.x,y:i.y}});return s}#Pt(t){for(let e=0;e<t.length;e++){const s=t[e];(0,d.v)("startTime"in s&&(0,i.Et)(s.startTime)),(0,d.v)("text"in s&&(0,i.Kg)(s.text))}const e=[],s=this.#Mt();for(const n of t){const[t,a]=n.text.split("#"),r=this.#Et(a);e.push({url:this.#Vt(t,s),startTime:n.startTime,endTime:n.endTime,width:r?.w,height:r?.h,coords:r&&(0,i.Et)(r.x)&&(0,i.Et)(r.y)?{x:r.x,y:r.y}:void 0})}return e}#Mt(){let t=(0,i.se)(this.#yt);return(0,i.Kg)(t)&&/^https?:/.test(t)?t:location.href}#Vt(t,e){return/^https?:/.test(t)?new URL(t):new URL(t,e)}#Et(t){if(!t)return{};const[e,s]=t.split("="),i=s?.split(","),n={};if(!e||!i)return null;for(let t=0;t<e.length;t++){const s=+i[t];isNaN(s)||(n[e[t]]=s)}return n}#g(t,e){}}class R extends i.uA{static props={src:null,time:0,crossOrigin:null};static state=new i.Uw({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});media;#Dt;#_t=[];onSetup(){this.media=(0,n.$c)(),this.#Dt=Z.create(this.$props.src,this.$state.crossOrigin),this.#o(),this.setAttributes({"data-loading":this.#l.bind(this),"data-error":this.#c.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":(0,a.Mc)(this.$state.hidden)})}onConnect(t){(0,i.QZ)(this.#d.bind(this)),(0,i.QZ)(this.#h.bind(this)),(0,i.QZ)(this.#o.bind(this)),(0,i.QZ)(this.#p.bind(this)),(0,i.QZ)(this.#It.bind(this)),(0,i.QZ)(this.#Lt.bind(this))}#d(){const t=this.$state.img();t&&new i.En(t).add("load",this.#Nt.bind(this)).add("error",this.#g.bind(this))}#o(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s}=this.media.$state,i=null!==t()?t():s();e.set(!0===i?"anonymous":i)}#p(){const{src:t,loading:e,error:s}=this.$state;return t()&&(e.set(!0),s.set(null)),()=>{this.#Ht(),e.set(!1),s.set(null)}}#Nt(){const{loading:t,error:e}=this.$state;this.#Lt(),t.set(!1),e.set(null)}#g(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}#l(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}#c(){const{error:t}=this.$state;return!(0,i.kZ)(t())}#h(){const{hidden:t}=this.$state,{duration:e}=this.media.$state,s=this.#Dt.$images();t.set(this.#c()||!Number.isFinite(e())||0===s.length)}getTime(){return this.$props.time()}#It(){let t=this.#Dt.$images();if(!t.length)return;let e=this.getTime(),{src:s,activeThumbnail:i}=this.$state,n=-1,a=null;for(let s=t.length-1;s>=0;s--){const i=t[s];if(e>=i.startTime&&(!i.endTime||e<i.endTime)){n=s;break}}t[n]&&(a=t[n]),i.set(a),s.set(a?.url.href||"")}#Lt(){if(!this.scope||this.$state.hidden())return;const t=this.el,e=this.$state.img(),s=this.$state.activeThumbnail();if(!e||!s||!t)return;let i=s.width??e.naturalWidth,n=s?.height??e.naturalHeight,{maxWidth:a,maxHeight:r,minWidth:o,minHeight:d,width:l,height:c}=getComputedStyle(this.el);"100%"===o&&(o=parseFloat(l)+""),"100%"===d&&(d=parseFloat(c)+"");let u=Math.max(parseInt(o)/i,parseInt(d)/n),p=Math.min(Math.max(parseInt(o),parseInt(a))/i,Math.max(parseInt(d),parseInt(r))/n),m=!isNaN(p)&&p<1?p:u>1?u:1;this.#Ot(t,"--thumbnail-width",i*m+"px"),this.#Ot(t,"--thumbnail-height",n*m+"px"),this.#Ot(t,"--thumbnail-aspect-ratio",String((0,h.LI)(i/n,5))),this.#Ot(e,"width",e.naturalWidth*m+"px"),this.#Ot(e,"height",e.naturalHeight*m+"px"),this.#Ot(e,"transform",s.coords?`translate(-${s.coords.x*m}px, -${s.coords.y*m}px)`:""),this.#Ot(e,"max-width","none")}#Ot(t,e,s){t.style.setProperty(e,s),this.#_t.push(()=>t.style.removeProperty(e))}#Ht(){for(const t of this.#_t)t();this.#_t=[]}}class B extends i.uA{static props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2};#Qt;#Zt;#i;onSetup(){this.#i=(0,i.J0)(H.state),this.#Qt=(0,i.NT)(L),this.#Zt=(0,i.EW)(this.getValueText.bind(this))}getValueText(){const{type:t,format:e,decimalPlaces:s,padHours:i,padMinutes:n,showHours:a,showMs:r}=this.$props,{value:o,pointerValue:d,min:l,max:c}=this.#i,u=e?.()??this.#Qt.default,p="current"===t()?o():d();if("percent"===u){const t=p/(c()-l())*100;return(this.#Qt.percent??h.LI)(t,s())+"%"}return"time"===u?(this.#Qt.time??b)(p,{padHrs:i(),padMins:n(),showHrs:a(),showMs:r()}):(this.#Qt.value?.(p)??p.toFixed(2))+""}}const q=B.prototype;(0,i.EJ)(q,"getValueText");class K extends i.uA{static props={offset:0,noClamp:!1};#i;onSetup(){this.#i=(0,i.NT)(E);const{active:t}=(0,i.J0)(H.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{preview:e}=this.#i;e.set(t),(0,i.zp)(()=>e.set(null)),(0,i.QZ)(this.#Rt.bind(this));const s=new ResizeObserver(this.#Rt.bind(this));s.observe(t),(0,i.zp)(()=>s.disconnect())}#Rt=(0,i.s_)(()=>{const{disabled:t,orientation:e}=this.#i;if(t())return;const s=this.el,{offset:i,noClamp:n}=this.$props;s&&function(t,{clamp:e,offset:s,orientation:i}){const n=getComputedStyle(t),a=parseFloat(n.width),r=parseFloat(n.height),o={top:null,right:null,bottom:null,left:null};if(o["horizontal"===i?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${s}px))`,"horizontal"===i){const t=a/2;if(e){const e=`max(0px, calc(var(--slider-pointer) - ${t}px))`,s=`calc(100% - ${a}px)`;o.left=`min(${e}, ${s})`}else o.left=`calc(var(--slider-pointer) - ${t}px)`}else{const t=r/2;if(e){const e=`max(${t}px, calc(var(--slider-pointer) - ${t}px))`,s=`calc(100% - ${r}px)`;o.bottom=`min(${e}, ${s})`}else o.bottom=`calc(var(--slider-pointer) - ${t}px)`}Object.assign(t.style,o)}(s,{clamp:!n(),offset:i(),orientation:e()})})}class F extends i.uA{static props={...N.props,keyStep:5,shiftKeyMultiplier:2};static state=C;#t;onSetup(){this.#t=(0,n.$c)();const{audioGain:t}=this.#t.$state;(0,i.Pp)(L,{default:"percent",value:e=>(e*(t()??1)).toFixed(2),percent:e=>Math.round(e*(t()??1))}),new N({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.#Bt.bind(this),aria:{valueMax:this.#qt.bind(this),valueNow:this.#wt.bind(this),valueText:this.#At.bind(this)},onDragValueChange:this.#Kt.bind(this),onValueChange:this.#Ft.bind(this)}).attach(this),(0,i.QZ)(this.#Ut.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),(0,a.jk)(t,"aria-label","Volume");const{canSetVolume:e}=this.#t.$state;this.setAttributes({"data-supported":e,"aria-hidden":(0,a.Mc)(()=>!e())})}#wt(){const{value:t}=this.$state,{audioGain:e}=this.#t.$state;return Math.round(t()*(e()??1))}#At(){const{value:t,max:e}=this.$state,{audioGain:s}=this.#t.$state;return(0,h.LI)(t()/e()*(s()??1)*100,2)+"%"}#qt(){const{audioGain:t}=this.#t.$state;return this.$state.max()*(t()??1)}#Bt(){const{disabled:t}=this.$props,{canSetVolume:e}=this.#t.$state;return t()||!e()}#Ut(){const{muted:t,volume:e}=this.#t.$state,s=t()?0:100*e();this.$state.value.set(s),this.dispatch("value-change",{detail:s})}#zt=(0,i.z3)(this.#jt.bind(this),25);#jt(t){if(!t.trigger)return;const e=(0,h.LI)(t.detail/100,3);this.#t.remote.changeVolume(e,t)}#Ft(t){this.#zt(t)}#Kt(t){this.#zt(t)}}class U extends i.uA{static props={...N.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100};static state=C;#t;#Wt;#Gt=(0,i.O)(null);constructor(){super();const{noSwipeGesture:t}=this.$props;new N({swipeGesture:()=>!t(),getValue:this.#Jt.bind(this),getStep:this.#Yt.bind(this),getKeyStep:this.#Xt.bind(this),roundValue:this.#te,isDisabled:this.#Bt.bind(this),aria:{valueNow:this.#wt.bind(this),valueText:this.#At.bind(this)},onDragStart:this.#ee.bind(this),onDragValueChange:this.#Kt.bind(this),onDragEnd:this.#se.bind(this),onValueChange:this.#Ft.bind(this)})}onSetup(){this.#t=(0,n.$c)(),(0,i.Pp)(L,{default:"time",value:this.#ie.bind(this),time:this.#ne.bind(this)}),this.setAttributes({"data-chapters":this.#ae.bind(this)}),this.setStyles({"--slider-progress":this.#re.bind(this)}),(0,i.QZ)(this.#oe.bind(this)),(0,i.QZ)(this.#he.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),(0,a.jk)(t,"aria-label","Seek")}onConnect(t){(0,i.QZ)(this.#de.bind(this)),(0,c.q)(this.#t.textTracks,"chapters",this.#Gt.set)}#re(){const{bufferedEnd:t,duration:e}=this.#t.$state;return(0,h.LI)(100*Math.min(t()/Math.max(e(),1),1),3)+"%"}#ae(){const{duration:t}=this.#t.$state;return this.#Gt()?.cues.length&&Number.isFinite(t())&&t()>0}#he(){this.#Wt=(0,i.z3)(this.#le.bind(this),this.$props.seekingRequestThrottle())}#oe(){if(this.$state.hidden())return;const{value:t,dragging:e}=this.$state,s=this.#Jt();(0,i.se)(e)||(t.set(s),this.dispatch("value-change",{detail:s}))}#de(){const t=this.#t.player.el,{preview:e}=(0,i.NT)(E);t&&e()&&(0,i.Bq)(t,"data-preview",this.$state.active())}#le(t,e){this.#t.remote.seeking(t,e)}#ce(t,e,s){this.#Wt.cancel();const{live:i}=this.#t.$state;i()&&e>=99?this.#t.remote.seekToLiveEdge(s):this.#t.remote.seek(t,s)}#ue=!1;#ee(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:e}=this.#t.$state;this.#ue=!e(),this.#t.remote.pause(t)}}#Kt(t){this.#Wt(this.#pe(t.detail),t)}#se(t){const{seeking:e}=this.#t.$state;(0,i.se)(e)||this.#le(this.#pe(t.detail),t);const s=t.detail;this.#ce(this.#pe(s),s,t);const{pauseWhileDragging:n}=this.$props;n()&&this.#ue&&(this.#t.remote.play(t),this.#ue=!1)}#Ft(t){const{dragging:e}=this.$state;!e()&&t.trigger&&this.#se(t)}#Jt(){const{currentTime:t}=this.#t.$state;return this.#me(t())}#Yt(){const t=this.$props.step()/this.#t.$state.duration()*100;return Number.isFinite(t)?t:1}#Xt(){const t=this.$props.keyStep()/this.#t.$state.duration()*100;return Number.isFinite(t)?t:1}#te(t){return(0,h.LI)(t,3)}#Bt(){const{disabled:t}=this.$props,{canSeek:e}=this.#t.$state;return t()||!e()}#wt(){const{value:t}=this.$state;return Math.round(t())}#At(){const t=this.#pe(this.$state.value()),{duration:e}=this.#t.$state;return Number.isFinite(t)?`${$(t)} out of ${$(e())}`:"live"}#pe(t){const{duration:e}=this.#t.$state;return(0,h.LI)(t/100*e(),5)}#me(t){const{liveEdge:e,duration:s}=this.#t.$state,i=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(i)?0:Number.isFinite(i)?100*i:100}#ie(t){const e=this.#pe(t),{live:s,duration:i}=this.#t.$state;return Number.isFinite(e)?(s()?e-i():e).toFixed(0):"LIVE"}#ne(t,e){const s=this.#pe(t),{live:i,duration:n}=this.#t.$state,a=i()?s-n():s;return Number.isFinite(s)?`${a<0?"-":""}${b(Math.abs(a),e)}`:"LIVE"}}const z=(0,i.q6)();const j=["a[href]","[tabindex]","input","select","button"].map(t=>`${t}:not([aria-hidden='true'])`).join(","),W=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class G{#ge=-1;#be=null;#$e=[];#v;get items(){return this.#$e}constructor(t){this.#v=t}attachMenu(t){(0,i.k6)(t,"focus",this.#U.bind(this)),this.#be=t,(0,i.zp)(()=>{this.#be=null})}listen(){this.#be&&(this.update(),new i.En(this.#be).add("keyup",this.#z.bind(this)).add("keydown",this.#j.bind(this)),(0,i.zp)(()=>{this.#ge=-1,this.#$e=[]}))}update(){this.#ge=0,this.#$e=this.#ve()}scroll(t=this.#fe()){const e=this.#$e[t];e&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{!function(t,e={}){!function(t,e){const s=(0,i.r)(t,e);for(const{el:t,top:i,left:n}of s)t.scroll({top:i,left:n,behavior:e.behavior})}(t,{scrollMode:"if-needed",block:"center",inline:"center",...e})}(e,{behavior:"smooth",boundary:t=>!t.hasAttribute("data-root")})})})}focusActive(t=!0){const e=this.#fe();this.#we(e>=0?e:0,t)}#we(t,e=!0){this.#ge=t,this.#$e[t]?(this.#$e[t].focus({preventScroll:!0}),e&&this.scroll(t)):this.#be?.focus({preventScroll:!0})}#fe(){return this.#$e.findIndex(t=>document.activeElement===t||"menuitemradio"===t.getAttribute("role")&&"true"===t.getAttribute("aria-checked"))}#U(){this.#ge>=0||(this.update(),this.focusActive())}#Ae(t){const e=t.target;if((0,i.hN)(t)&&e instanceof Element){const t=e.getAttribute("role");return!/a|input|select|button/.test(e.localName)&&!t}return W.has(t.key)}#z(t){this.#Ae(t)&&(t.stopPropagation(),t.preventDefault())}#j(t){if(this.#Ae(t))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.#v.closeMenu(t);break;case"Tab":this.#we(this.#xe(t.shiftKey?-1:1));break;case"ArrowUp":this.#we(this.#xe(-1));break;case"ArrowDown":this.#we(this.#xe(1));break;case"Home":case"PageUp":this.#we(0);break;case"End":case"PageDown":this.#we(this.#$e.length-1)}}#xe(t){let e=this.#ge;do{e=(e+t+this.#$e.length)%this.#$e.length}while(null===this.#$e[e]?.offsetParent);return e}#ve(){if(!this.#be)return[];const t=this.#be.querySelectorAll(j),e=[],s=t=>"menu"===t.getAttribute("role");for(const i of t)(0,a.sb)(i)&&null!==i.offsetParent&&(0,a.D0)(this.#be,i,s)&&e.push(i);return e}}var J=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,X=(t,e,s,i)=>{for(var n,a=Y(e,s),r=t.length-1;r>=0;r--)(n=t[r])&&(a=n(e,s,a)||a);return a&&J(e,s,a),a};let tt=0;class et extends i.uA{static props={showDelay:0};#t;#ye;#Se;#Te=(0,i.O)(!1);#Pe=(0,i.O)(!1);#ke=(0,i.O)(null);#Ce=(0,i.O)(null);#Me;#Ve=new Set;#Ee=null;#De;#_e;#Ie=!1;#Le=(0,i.O)(!1);#Ne=new Set;get triggerElement(){return this.#ke()}get contentElement(){return this.#Ce()}get isSubmenu(){return!!this.#Me}constructor(){super();const{showDelay:t}=this.$props;this.#De=new v({trigger:this.#ke,content:this.#Ce,showDelay:t,listen:(t,e,s)=>{(0,a.$)(t,t=>{this.#Te()?s(t):e(t)});const i=this.#He();i&&(0,a.$)(i,t=>{t.stopPropagation(),s(t)})},onChange:this.#Oe.bind(this)})}onSetup(){this.#t=(0,n.$c)();const t=++tt;this.#ye=`media-menu-${t}`,this.#Se=`media-menu-button-${t}`,this.#_e=new G({closeMenu:this.close.bind(this)}),(0,i.TQ)(z)&&(this.#Me=(0,i.NT)(z)),this.#Qe(),this.setAttributes({"data-open":this.#Te,"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":this.#Bt.bind(this)}),(0,i.Pp)(z,{button:this.#ke,content:this.#Ce,expanded:this.#Te,hint:(0,i.O)(""),submenu:!!this.#Me,disable:this.#Ze.bind(this),attachMenuButton:this.#Re.bind(this),attachMenuItems:this.#Be.bind(this),attachObserver:this.#qe.bind(this),disableMenuButton:this.#Ke.bind(this),addSubmenu:this.#Fe.bind(this),onTransitionEvent:t=>{this.#Ne.add(t),(0,i.zp)(()=>{this.#Ne.delete(t)})}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){(0,i.QZ)(this.#Ue.bind(this)),this.isSubmenu&&this.#Me?.addSubmenu(this)}onDestroy(){this.#ke.set(null),this.#Ce.set(null),this.#Ee=null,this.#Ne.clear()}#Qe(){let t=-1,e=(0,i.TQ)(D)?(0,i.NT)(D):null;(0,i.Pp)(D,{onDragStart:()=>{e?.onDragStart?.(),window.clearTimeout(t),t=-1,this.#Ie=!0},onDragEnd:()=>{e?.onDragEnd?.(),t=window.setTimeout(()=>{this.#Ie=!1,t=-1},300)}})}#Ue(){const t=this.#ze();this.isSubmenu||this.#je(),this.#We(t),t&&((0,i.QZ)(()=>{const{height:t}=this.#t.$state,e=this.#Ce();e&&(0,i.eC)(e,"--player-height",t()+"px")}),this.#_e.listen(),this.listen("pointerup",this.#Ge.bind(this)),(0,i.k6)(window,"pointerup",this.#Je.bind(this)))}#Re(t){const e=t.el,s=this.isSubmenu,n=(0,a.Mc)(this.#Bt.bind(this));(0,a.jk)(e,"tabindex",s?"-1":"0"),(0,a.jk)(e,"role",s?"menuitem":"button"),(0,i.Bq)(e,"id",this.#Se),(0,i.Bq)(e,"aria-haspopup","menu"),(0,i.Bq)(e,"aria-expanded","false"),(0,i.Bq)(e,"data-root",!this.isSubmenu),(0,i.Bq)(e,"data-submenu",this.isSubmenu),(0,i.QZ)(()=>{(0,i.Bq)(e,"data-open",this.#Te()),(0,i.Bq)(e,"aria-disabled",n())}),this.#ke.set(e),(0,i.zp)(()=>{this.#ke.set(null)})}#Be(t){const e=t.el;e.style.setProperty("display","none"),(0,i.Bq)(e,"id",this.#ye),(0,a.jk)(e,"role","menu"),(0,a.jk)(e,"tabindex","-1"),(0,i.Bq)(e,"data-root",!this.isSubmenu),(0,i.Bq)(e,"data-submenu",this.isSubmenu),this.#Ce.set(e),(0,i.zp)(()=>this.#Ce.set(null)),(0,i.QZ)(()=>(0,i.Bq)(e,"data-open",this.#Te())),this.#_e.attachMenu(e),this.#We(!1);const s=this.#Ye.bind(this);this.isSubmenu?this.#Me?.onTransitionEvent(s):(t.listen("transitionstart",s),t.listen("transitionend",s),t.listen("animationend",this.#je),t.listen("vds-menu-resize",this.#je))}#qe(t){this.#Ee=t}#We(t){const e=(0,i.se)(this.#Ce);e&&(0,i.Bq)(e,"aria-hidden",(0,i.ox)(!t))}#Ke(t){this.#Le.set(t)}#Xe=!1;#Oe(t,e){if(this.#Xe=(0,i.kx)(e),e?.stopPropagation(),this.#Te()===t)return;if(this.#Bt())return void(t&&this.#De.hide(e));this.el?.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));const s=this.#ke(),n=this.#Ce();if(s&&((0,i.Bq)(s,"aria-controls",t&&this.#ye),(0,i.Bq)(s,"aria-expanded",(0,i.ox)(t))),n&&(0,i.Bq)(n,"aria-labelledby",t&&this.#Se),this.#Te.set(t),this.#ts(e),(0,i.io)(),this.#Xe){t?n?.focus():s?.focus();for(const t of[this.el,n])t&&t.setAttribute("data-keyboard","")}else for(const t of[this.el,n])t&&t.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)this.isSubmenu||this.#t.activeMenu===this||(this.#t.activeMenu?.close(e),this.#t.activeMenu=this),this.#Ee?.onOpen?.(e);else{if(this.isSubmenu)for(const t of this.#Ve)t.close(e);else this.#t.activeMenu=null;this.#Ee?.onClose?.(e)}t&&requestAnimationFrame(this.#es.bind(this))}#es(){this.#ss||this.#is||(this.#_e.update(),requestAnimationFrame(()=>{this.#Xe?this.#_e.focusActive():this.#_e.scroll()}))}#ze(){return!this.#Bt()&&this.#Te()}#Bt(){return this.#Pe()||this.#Le()}#Ze(t){this.#Pe.set(t)}#Ge(t){const e=this.#Ce();this.#Ie||e&&(0,a.Dq)(e,t)||t.stopPropagation()}#Je(t){const e=this.#Ce();this.#Ie||e&&(0,a.Dq)(e,t)||this.close(t)}#He(){const t=this.el?.querySelector('[data-part="close-target"]');return this.el&&t&&(0,a.D0)(this.el,t,t=>"menu"===t.getAttribute("role"))?t:null}#ts(t){this.isSubmenu||(this.#Te()?this.#t.remote.pauseControls(t):this.#t.remote.resumeControls(t))}#Fe(t){this.#Ve.add(t),new i.En(t).add("open",this.#ns).add("close",this.#as),(0,i.zp)(this.#rs)}#rs=this.#os.bind(this);#os(t){this.#Ve.delete(t)}#is=!1;#ns=this.#hs.bind(this);#hs(t){this.#is=!0;const e=this.#Ce();this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","true");for(const e of this.#Ve)if(e!==t.target)for(const t of[e.el,e.triggerElement])t?.setAttribute("aria-hidden","true");if(e){const s=t.target.el;for(const t of e.children)t.contains(s)?t.setAttribute("data-open",""):t!==s&&t.setAttribute("data-hidden","")}}#as=this.#ds.bind(this);#ds(t){this.#is=!1;const e=this.#Ce();this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","false");for(const t of this.#Ve)for(const e of[t.el,t.triggerElement])e?.setAttribute("aria-hidden","false");if(e)for(const t of e.children)t.removeAttribute("data-open"),t.removeAttribute("data-hidden")}#je=(0,i.s_)(()=>{const t=(0,i.se)(this.#Ce);if(!t)return;let e=0,s=getComputedStyle(t),n=[...t.children];for(const t of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])e+=parseFloat(s[t])||0;for(const t of n)if((0,a.sb)(t)&&"contents"===t.style.display)n.push(...t.children);else if(3===t.nodeType)e+=parseFloat(getComputedStyle(t).fontSize);else if((0,a.sb)(t)){if(!(0,a.J9)(t))continue;const s=getComputedStyle(t);e+=t.offsetHeight+(parseFloat(s.marginTop)||0)+(parseFloat(s.marginBottom)||0)}(0,i.eC)(t,"--menu-height",e+"px")});#ss=!1;#Ye(t){const e=this.#Ce();e&&"height"===t.propertyName&&(this.#ss="transitionstart"===t.type,(0,i.Bq)(e,"data-transition",this.#ss?"height":null),this.#Te()&&this.#es());for(const e of this.#Ne)e(t)}open(t){(0,i.se)(this.#Te)||(this.#De.show(t),(0,i.io)())}close(t){(0,i.se)(this.#Te)&&(this.#De.hide(t),(0,i.io)())}}X([i._w],et.prototype,"triggerElement"),X([i._w],et.prototype,"contentElement"),X([i._w],et.prototype,"isSubmenu"),X([i.EJ],et.prototype,"open"),X([i.EJ],et.prototype,"close");class st extends i.uA{static props={disabled:!1};#ls;#cs=(0,i.O)(null);get expanded(){return this.#ls?.expanded()??!1}constructor(){super(),new o.f}onSetup(){this.#ls=(0,i.NT)(z)}onAttach(t){this.#ls.attachMenuButton(this),(0,i.QZ)(this.#mt.bind(this)),(0,a.jk)(t,"type","button")}onConnect(t){(0,i.QZ)(this.#us.bind(this)),this.#ps();const e=new MutationObserver(this.#ps.bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),(0,i.zp)(()=>e.disconnect()),(0,a.$)(t,t=>{this.dispatch("select",{trigger:t})})}#mt(){this.#ls.disableMenuButton(this.$props.disabled())}#us(){const t=this.#cs();t&&(0,i.QZ)(()=>{const e=this.#ls.hint();e&&(t.textContent=e)})}#ps(){const t=this.el?.querySelector('[data-part="hint"]');this.#cs.set(t??null)}}const it=st.prototype;(0,i._w)(it,"expanded");class nt extends st{}class at extends i.uA{static props={container:null,disabled:!1};#ms=null;#t;onSetup(){this.#t=(0,n.$c)(),(0,i.Pp)(rt,{attach:this.#gs.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){this.#ms?.remove(),this.#ms=null}#gs(t){this.#bs(!1),this.#ms=t,(0,a.jx)(()=>{(0,a.jx)(()=>{this.connectScope&&(0,i.QZ)(this.#mt.bind(this))})})}#mt(){const{fullscreen:t}=this.#t.$state,{disabled:e}=this.$props;this.#bs("fullscreen"===e()?!t():!e())}#bs(t){if(!this.#ms)return;let e=this.#$s(this.$props.container());if(!e)return;const s=this.#ms.parentElement===e;(0,i.Bq)(this.#ms,"data-portal",t),t?s||(this.#ms.remove(),e.append(this.#ms)):s&&this.#ms.parentElement===e&&(this.#ms.remove(),this.el?.append(this.#ms))}#$s(t){return(0,a.sb)(t)?t:t?document.querySelector(t):document.body}}const rt=(0,i.q6)();class ot extends i.uA{static props={placement:null,offset:0,alignOffset:0};#ls;constructor(){super(),new o.f;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.#ls=(0,i.NT)(z),this.#ls.attachMenuItems(this),(0,i.TQ)(rt)){const e=(0,i.NT)(rt);e&&((0,i.Pp)(rt,null),e.attach(t),(0,i.zp)(()=>e.attach(null)))}}onConnect(t){(0,i.QZ)(this.#vs.bind(this))}#vs(){const{expanded:t}=this.#ls;if(!this.el||!t())return;const e=this.$props.placement();if(!e)return;Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:s,alignOffset:n}=this.$props;(0,i.zp)((0,a.RK)(this.el,this.#fs(),e,{offsetVarName:"media-menu",xOffset:n(),yOffset:s()})),(0,i.zp)(this.#ws.bind(this))}#ws(){this.el&&(this.el.removeAttribute("style"),this.el.style.display="none")}#fs(){return this.#ls.button()}}const ht=(0,i.q6)();class dt extends i.WO{#As=new Set;#xs=(0,i.O)("");#ys=null;onValueChange;get values(){return Array.from(this.#As).map(t=>t.value())}get value(){return this.#xs()}set value(t){this.#Ss(t)}onSetup(){(0,i.Pp)(ht,{add:this.#Ts.bind(this),remove:this.#Ps.bind(this)})}onAttach(t){(0,i.TQ)(z)||(0,a.jk)(t,"role","radiogroup"),this.setAttributes({value:this.#xs})}onDestroy(){this.#As.clear()}#Ts(t){this.#As.has(t)||(this.#As.add(t),t.onCheck=this.#ks,t.check(t.value()===this.#xs()))}#Ps(t){t.onCheck=null,this.#As.delete(t)}#ks=this.#Ss.bind(this);#Ss(t,e){const s=(0,i.se)(this.#xs);if(!t||t===s)return;const n=this.#Cs(s),a=this.#Cs(t);n?.check(!1,e),a?.check(!0,e),this.#xs.set(t),this.onValueChange?.(t,e)}#Cs(t){for(const e of this.#As)if(t===(0,i.se)(e.value))return e;return null}}class lt extends i.uA{static props={value:""};#Ms=(0,i.O)(!1);#ys={value:this.$props.value,check:this.#Vs.bind(this),onCheck:null};get checked(){return this.#Ms()}constructor(){super(),new o.f}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.#Ms,"aria-checked":(0,a.Mc)(this.#Ms)})}onAttach(t){const e=(0,i.TQ)(z);(0,a.jk)(t,"tabindex",e?"-1":"0"),(0,a.jk)(t,"role",e?"menuitemradio":"radio"),(0,i.QZ)(this.#ut.bind(this))}onConnect(t){this.#Es(),(0,a.$)(t,this.#M.bind(this)),(0,i.zp)(this.#N.bind(this))}#N(){(0,i.P1)(()=>{(0,i.NT)(ht).remove(this.#ys)},this.connectScope)}#Es(){(0,i.NT)(ht).add(this.#ys)}#ut(){const{value:t}=this.$props,e=t();(0,i.se)(this.#Ms)&&this.#ys.onCheck?.(e)}#M(t){(0,i.se)(this.#Ms)||(this.#Ss(!0,t),this.#Ds(t),this.#ys.onCheck?.((0,i.se)(this.$props.value),t))}#Vs(t,e){(0,i.se)(this.#Ms)!==t&&this.#Ss(t,e)}#Ss(t,e){this.#Ms.set(t),this.dispatch("change",{detail:t,trigger:e})}#Ds(t){this.dispatch("select",{trigger:t})}}const ct=lt.prototype;(0,i._w)(ct,"checked");class ut extends i.uA{static props={emptyLabel:"Default"};#ls;#t;#ys;get value(){return this.#ys.value}get disabled(){const{audioTracks:t}=this.#t.$state;return t().length<=1}constructor(){super(),this.#ys=new dt,this.#ys.onValueChange=this.#Ft.bind(this)}onSetup(){this.#t=(0,n.$c)(),(0,i.TQ)(z)&&(this.#ls=(0,i.NT)(z))}onConnect(t){(0,i.QZ)(this.#ut.bind(this)),(0,i.QZ)(this.#_s.bind(this)),(0,i.QZ)(this.#Is.bind(this))}getOptions(){const{audioTracks:t}=this.#t.$state;return t().map(t=>({track:t,label:t.label,value:t.label.toLowerCase()}))}#ut(){this.#ys.value=this.#Jt()}#Is(){const{emptyLabel:t}=this.$props,{audioTrack:e}=this.#t.$state,s=e();this.#ls?.hint.set(s?.label??t())}#_s(){this.#ls?.disable(this.disabled)}#Jt(){const{audioTrack:t}=this.#t.$state,e=t();return e?e.label.toLowerCase():""}#Ft(t,e){if(this.disabled)return;const s=this.#t.audioTracks.toArray().findIndex(e=>e.label.toLowerCase()===t);if(s>=0){const t=this.#t.audioTracks[s];this.#t.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:t,trigger:e})}}}const pt=ut.prototype;(0,i._w)(pt,"value"),(0,i._w)(pt,"disabled"),(0,i.EJ)(pt,"getOptions");class mt extends i.uA{static props={offLabel:"Off"};#t;#ls;#ys;get value(){return this.#ys.value}get disabled(){const{hasCaptions:t}=this.#t.$state;return!t()}constructor(){super(),this.#ys=new dt,this.#ys.onValueChange=this.#Ft.bind(this)}onSetup(){this.#t=(0,n.$c)(),(0,i.TQ)(z)&&(this.#ls=(0,i.NT)(z))}onConnect(t){super.onConnect?.(t),(0,i.QZ)(this.#ut.bind(this)),(0,i.QZ)(this.#_s.bind(this)),(0,i.QZ)(this.#Is.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.#t.$state;return[{value:"off",label:t},...e().filter(r._k).map(t=>({track:t,label:t.label,value:this.#Ls(t)}))]}#ut(){this.#ys.value=this.#Jt()}#Is(){const{offLabel:t}=this.$props,{textTrack:e}=this.#t.$state,s=e();this.#ls?.hint.set(s&&(0,r._k)(s)&&"showing"===s.mode?s.label:t())}#_s(){this.#ls?.disable(this.disabled)}#Jt(){const{textTrack:t}=this.#t.$state,e=t();return e&&(0,r._k)(e)&&"showing"===e.mode?this.#Ls(e):"off"}#Ft(t,e){if(this.disabled)return;if("off"===t){const t=this.#t.textTracks.selected;if(t){const s=this.#t.textTracks.indexOf(t);this.#t.remote.changeTextTrackMode(s,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.#t.textTracks.toArray().findIndex(e=>this.#Ls(e)===t);if(s>=0){const t=this.#t.textTracks[s];this.#t.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:t,trigger:e})}}#Ls(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}}const gt=mt.prototype;(0,i._w)(gt,"value"),(0,i._w)(gt,"disabled"),(0,i.EJ)(gt,"getOptions");const bt=[.25,.5,.75,1,1.25,1.5,1.75,2];class $t extends i.uA{static props={normalLabel:"Normal",rates:bt};#t;#ls;#ys;get value(){return this.#ys.value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=this.#t.$state;return!e()||0===t().length}constructor(){super(),this.#ys=new dt,this.#ys.onValueChange=this.#Ft.bind(this)}onSetup(){this.#t=(0,n.$c)(),(0,i.TQ)(z)&&(this.#ls=(0,i.NT)(z))}onConnect(t){(0,i.QZ)(this.#ut.bind(this)),(0,i.QZ)(this.#Is.bind(this)),(0,i.QZ)(this.#_s.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(t=>({label:1===t?e:t+"×",value:t.toString()}))}#ut(){this.#ys.value=this.#Jt()}#Is(){const{normalLabel:t}=this.$props,{playbackRate:e}=this.#t.$state,s=e();this.#ls?.hint.set(1===s?t():s+"×")}#_s(){this.#ls?.disable(this.disabled)}#Jt(){const{playbackRate:t}=this.#t.$state;return t().toString()}#Ft(t,e){if(this.disabled)return;const s=+t;this.#t.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}}const vt=$t.prototype;(0,i._w)(vt,"value"),(0,i._w)(vt,"disabled"),(0,i.EJ)(vt,"getOptions");class ft extends i.uA{static props={autoLabel:"Auto",hideBitrate:!1,sort:"descending"};#t;#ls;#ys;get value(){return this.#ys.value}get disabled(){const{canSetQuality:t,qualities:e}=this.#t.$state;return!t()||e().length<=1}#Ns=(0,i.EW)(()=>{const{sort:t}=this.$props,{qualities:e}=this.#t.$state;return(0,u.F)(e(),"descending"===t())});constructor(){super(),this.#ys=new dt,this.#ys.onValueChange=this.#Ft.bind(this)}onSetup(){this.#t=(0,n.$c)(),(0,i.TQ)(z)&&(this.#ls=(0,i.NT)(z))}onConnect(t){(0,i.QZ)(this.#ut.bind(this)),(0,i.QZ)(this.#_s.bind(this)),(0,i.QZ)(this.#Is.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.#Ns().map(t=>{const s=t.bitrate&&t.bitrate>=0?`${(0,h.LI)(t.bitrate/1e6,2)} Mbps`:null;return{quality:t,label:t.height+"p",value:this.#Hs(t),bitrate:()=>e()?null:s}})]}#ut(){this.#ys.value=this.#Jt()}#Is(){const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.#t.$state,i=s()?s().height+"p":"";this.#ls?.hint.set(e()?t()+(i?` (${i})`:""):i)}#_s(){this.#ls?.disable(this.disabled)}#Ft(t,e){if(this.disabled)return;if("auto"===t)return this.#t.remote.changeQuality(-1,e),void this.dispatch("change",{detail:"auto",trigger:e});const{qualities:s}=this.#t.$state,n=(0,i.se)(s).findIndex(e=>this.#Hs(e)===t);if(n>=0){const t=(0,i.se)(s)[n];this.#t.remote.changeQuality(n,e),this.dispatch("change",{detail:t,trigger:e})}}#Jt(){const{quality:t,autoQuality:e}=this.#t.$state;if(e())return"auto";const s=t();return s?this.#Hs(s):"auto"}#Hs(t){return t.height+"_"+t.bitrate}}const wt=ft.prototype;(0,i._w)(wt,"value"),(0,i._w)(wt,"disabled"),(0,i.EJ)(wt,"getOptions");class At extends i.uA{static props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1};static state=new i.Uw({timeText:"",hidden:!1});#t;#Os=(0,i.O)(null);#lt=(0,i.O)(!0);#ct=(0,i.O)(!0);onSetup(){this.#t=(0,n.$c)(),this.#n();const{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":this.#Qs.bind(this)}),new V({callback:this.#bt.bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||(0,i.QZ)(this.#Zs.bind(this)),(0,i.QZ)(this.#n.bind(this))}onConnect(t){(0,i.zp)((0,a.tD)(t,this.#lt.set)),(0,i.QZ)(this.#h.bind(this)),(0,i.QZ)(this.#Rs.bind(this))}#bt(t){this.#ct.set(t[0].isIntersecting)}#h(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.#lt()||!this.#ct())}#Rs(){this.$props.toggle()?this.el&&(0,a.$)(this.el,this.#Bs.bind(this)):this.#Os.set(null)}#n(){const{hidden:t,timeText:e}=this.$state,{duration:s}=this.#t.$state;if(t())return;const{type:i,padHours:n,padMinutes:a,showHours:r}=this.$props,o=this.#qs(i()),h=s(),d=this.#Qs();if(!Number.isFinite(o+h))return void e.set("LIVE");const l=b(d?Math.max(0,h-o):o,{padHrs:n(),padMins:a(),showHrs:r()});e.set((d?"-":"")+l)}#Zs(){if(!this.el)return;const{toggle:t}=this.$props;(0,i.Bq)(this.el,"role",t()?"timer":null),(0,i.Bq)(this.el,"tabindex",t()?0:null)}#qs(t){const{bufferedEnd:e,duration:s,currentTime:i}=this.#t.$state;switch(t){case"buffered":return e();case"duration":return s();default:return i()}}#Qs(){return this.$props.remainder()&&!1!==this.#Os()}#Bs(t){t.preventDefault(),null!==this.#Os()?this.#Os.set(t=>!t):this.#Os.set(!this.$props.remainder())}}}}]);